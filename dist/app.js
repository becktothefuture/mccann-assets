(()=>{var jt=Object.defineProperty;var Yt=(e,t,o)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var g=(e,t,o)=>Yt(e,typeof t!="symbol"?t+"":t,o);var me={"loreal-final-copy":{client:"L'Or\xE9al Paris",title:"The Final Copy of Ilon Specht",truth:"Women have inherent worth and deserve to be seen, heard, and valued.",truthWellTold:"Because You're Worth It",description:`Fifty years after "Because I'm Worth It" was written, its meaning had become eroded by time. What began as a statement of rebellion had softened into a tagline \u2014 spoken everywhere but rarely felt. Our idea was not to reinterpret it, but to reclaim it. We did so by going back to where the line began, to Ilon Specht, the young McCann copywriter who fought so hard to bring those words to life. We worked with two-time Oscar-winning filmmaker Ben Proudfoot to capture Specht, now in her senior years and facing a terminal illness, in her New York apartment. She reflects on making the original ad at a time when so many forces were working against her, and, all throughout, her fire and unfiltered voice come to life: sharp, defiant and unapologetic. No brand messaging. No product shots. Just truth. The ultimate embodiment of "I'm worth it." We gave Ilon Specht back her words and her authorship. We didn't modernize her line. We reminded the world of its original power, and the world listened.`,impact:"More than 75% of people who saw the film reported that it changed their perception of the brand",vimeoId:"1135350579",vimeoPreviewId:"1135324224",awards:[{type:"cannes",label:"Grand Prix (Film), Gold Lion (Entertainment) Silver Lions (Entertainment, PR) Bronze Lion (Film Craft), Brand Content Awards \u2014 Grand Prix"},{type:"gerety",label:"Grand Prix"},{type:"ciclope",label:"Grand Prix"},{type:"clubdesda",label:"Grand Prix"}]},"mastercard-abracadabra":{client:"Mastercard",title:"Abracadabra: From Fan to Featured",truth:"Music fans want to live their passion, not just listen to it.",truthWellTold:"From Fan to Featured",description:"Gen Z doesn't just watch culture, they make it. So Mastercard turned Lady Gaga's music video into a fan-powered audition, with choreography by Parris Goebel, creators leading the charge, and Gaga amplifying every step. We partnered with viral dance creators to teach the moves, model participation, and rally their communities. Mastercard and Gaga fueled the movement by liking, reposting, and celebrating fans across platforms. The strategy was rooted in Gen Z's desire for self-expression and social connection \u2014 turning fan behavior into the engine of engagement. The result: 1.4 billion views, TikTok's top branded hashtag, and Mastercard's biggest-ever Gen Z brand lift.",impact:"Mastercard's biggest-ever Gen Z brand lift",vimeoId:"1130327297",vimeoPreviewId:"1135324254",awards:[{type:"cannes",label:"Gold Lion (Entertainment), Bronze Lion (Social & Creator)"},{type:"nyt",label:"Grand (Branded Content) Gold (Collaboration, Branded Content) Silver (Activation & Engagement)"},{type:"lia",label:"Silver (Branded Entertainment, Online Film) Bronze (Digital)"}]},"xbox-everyday-tactician":{client:"Xbox",title:"The Everyday Tactician",truth:"Football Manager gamers don't just play the game, they study it.",truthWellTold:"Xbox turned game intelligence into real-world influence",description:"Modern football is dominated by a few rich clubs that can afford to hire big teams of coaches and analysts, which means smaller clubs struggle to compete for talent. For the launch of Football Manager 24 \u2014 the most realistic football simulator \u2014 Xbox helped the small club Bromley FC recruit their next tactician from an untapped talent pool: gamers. The announcement made headlines everywhere, and people from around the world applied. Nathan Owolabi, a dedicated Football Manager player, got the job. He used data from the game to help the club win in the real world, developing formations, finding new strategies, and uncovering the opposition's weaknesses. The story of this unusual approach to football was told in a 60+ minute documentary on TNT Sports \u2014 the UK's biggest sports broadcaster. With the help of a gamer, the club achieved its best season in its 132-year history, ultimately gaining promotion to League Two for the first time ever. Xbox saw a dramatic increase in Football Manager players on console, and Football Manager 24 became the most-played game in the history of the franchise.",impact:"190% increase in Xbox players for Football Manager 24, which became the most-played game in the history of the franchise",vimeoId:"1130327360",vimeoPreviewId:"1135324285",awards:[{type:"cannes",label:"Titanium Lion, Grand Prix (Direct), Silver Lion (Entertainment for Sport), Gold Lion (Creative Effectiveness)"},{type:"theoneshow",label:"Best of Discipline (PR, Gaming)"},{type:"clios",label:"Grand Clio"},{type:"dandad",label:"Yellow Pencil"}]},"chevrolet-100-years":{client:"Chevrolet",title:"100 Years of Chevrolet",truth:"The future is born out of the past. Every Chevrolet that's carried us along the way continues to drive us forward.",truthWellTold:"For 100 years, always driving toward the future",description:"Chevrolet celebrated 100 years in Brazil with a 360\xBA campaign that revisited defining moments in the nation's history. In the hero film, from the rise of industry to women's right to vote, from the dream of a new capital to the return of democracy, from World Cup celebrations to reconnection after the pandemic, each scene was chosen to reflect the country's progress and the brand's enduring presence throughout. The story is told through immersive cinematography, 3D transitions, and iconic vehicles that act as portals through time. Every frame was carefully crafted, combining historical accuracy with emotional depth. Narrated by Fernanda Torres, one of Brazil's most celebrated actresses, the film aired nationally on Chevrolet's 100th anniversary. More than a celebration, it became a statement about memory, progress, and connection, reminding Brazilians that Chevrolet has not just been a car brand, but a part of their country's journey.",impact:"#1 position in brand consideration \u2014 6 p.p. ahead of 2nd place and 9 p.p. ahead of 3rd. #1 position in engagement across the category, with 44\xD7 more interactions than the brand's overall average. 470,000 real experiences delivered through the Spotify activation. Strongest Brand Power in the industry in Brazil's automotive industry during the period.",vimeoId:"1130337601",vimeoPreviewId:"1135324304",awards:[{type:"clios",label:"Silver (Film Craft)"}]},"mastercard-inclusive-by-design":{client:"Mastercard",title:"Inclusive by Design",truth:"An inclusive global financial system is good for humanity and business.",truthWellTold:"Doing well by doing good.",description:`When Mastercard and McCann debuted "Priceless" in 1997, the campaign captured people's hearts with a breakthrough idea: in a world of conspicuous consumption, what really matters are the things that money can't buy \u2014 like taking your child to their first game at the ballpark. Mastercard and McCann realized that to continue to deliver on "Priceless," the brand platform could not ignore the 1.4 billion people globally excluded from the financial system due to discrimination, exploitation, and more. With financial inclusion now central to Mastercard's brand purpose, "Priceless" has evolved beyond messaging into groundbreaking product innovations, tools, and platforms. Among them: the "True Name" card, allowing transgender individuals to have their real names inscribed on their credit cards; the "Touch Card" system that lets sight-impaired consumers to distinguish their credit, debit, and pre-paid cards by touch; the "Where to Settle" tool that helps Ukrainian refugees in Poland find the ideal areas to make their new homes; the "Where to Start" tool that helps create a symbiotic financial ecosystem between resettled Ukrainian refugees and their Polish neighbors; and the new "Life Donor Card" and "ATM Voting" projects, which have turned millions of users into organ donors and helped citizens decide how the government uses their money, respectively.`,impact:"+89% increase in brand value since 2018",vimeoId:"1130338763",vimeoPreviewId:"1135324336",awards:[]},"puck-recipe-for-change":{client:"Puck",title:"Recipe for Change",truth:"Cultural knowledge is economic power.",truthWellTold:"From local kitchens to global restaurant tables",description:`As Lebanon faced one of the worst economic and humanitarian crises in modern history, traditional aid models and retail logistics collapsed, leaving displaced women with no income and limited support. Puck, a trusted Middle Eastern dairy brand, saw an opportunity in what remained: the women's family recipes, passed down for generations. "Recipe for Change" transformed these cultural heirlooms into intellectual property by licensing the recipes to Lebanese and fusion restaurants around the world. Each dish sold generated income, with 50% of profits going directly to the women behind them. The strategy reframed these women not as victims, but as business partners, restoring dignity and agency. Launched during Ramadan, a time rooted in generosity, the campaign created a scalable B2B2C model that connected communities across borders. It not only supported displaced women but also drove new revenue for restaurants and redefined how brands can build equity, empathy, and economic impact during crisis.`,impact:"+16.67% profit increase, +56% rise in footfall for participating restaurants, +807.12% revenue for the women behind the recipes",vimeoId:"1130327170",vimeoPreviewId:"1135324532",awards:[{type:"cannes",label:"Gold Lion (Sustainable Development Goals), Silver Lion (Brand Experience & Activation) Bronze Lion (Creative B2B)"},{type:"lia",label:"Grand LIA, Gold (Sustainability) Bronze (Transformative Business Impact, Brand Purpose)"}]},"kids-help-phone":{client:"Kids Help Phone",title:"Help",truth:'Adults define "help" as something youth only need in crisis.',truthWellTold:"Help means everything",description:`"Help" is a powerful film, marking the next chapter of Kids Help Phone's Feel Out Loud platform. The film reimagines The Beatles' "Help!" to explore what "help" truly means to young people today \u2014 from everyday struggles to urgent crises. Blending live action, CGI, and emotional metaphor, it visualizes real youth experiences drawn from over 50 million data points that have been aggregated and anonymized from real conversations with youth.`,impact:"In 2023, 49% of youth said that without KHP, they would have ignored their issue entirely \u2014 a major barrier to positive mental health outcomes.",vimeoId:"1130327957",vimeoPreviewId:"1135324368",awards:[]},"aldi-kevin-carrot":{client:"ALDI",title:"Kevin the Carrot's Christmas Mission",truth:"Living well everyday isn't about spending more but enjoying more. Because having the best Christmas possible should be something everyone can afford to have, not just dream about.",truthWellTold:"Have a Cracking Christmas with Aldi",description:'In a festive campaign, a snowy Christmas Eve village loses its sparkle when Dr. Humbug and her crew steal the "Christmas Spirit." Santa calls on Kevin the Carrot to save the day, sending him on a daring mission to infiltrate Humbug Headquarters. With clever disguises, his wife Katie, and a few comedic close calls, Kevin works to restore joy to the village. The story ends with the humbugs learning that "Christmas is better when goodwill is returned."',impact:`The ad achieved the highest possible 5.9-star rating in System1's analysis for both short and long-term effects (the sixth consecutive year Aldi's Christmas campaign had scored the highest in the rankings). Kevin was also named the UK's favourite Christmas ad of all time, and Aldi's reported a 3.4% increase in total sales in 2024, the brand's "best Christmas ever."`,vimeoId:"1130327081",vimeoPreviewId:"1135324387",awards:[]},"xbox-cheeky-controller":{client:"Xbox",title:"Cheeky Controller",truth:"Irreverence is Deadpool's true superpower.",truthWellTold:"Deadpool's greatest asset is his\u2026",description:`The highly anticipated theatrical release of Marvel Studios' "Deadpool & Wolverine" was an unmissable pop culture moment, and Xbox aimed to capture the attention of the movie's fanbase alongside other brands vying for consumer engagement. By authentically blending Xbox's technological edge with Deadpool's irreverent humor, we created a culturally iconic retail promotion with a competition at its core. Rather than rely on predictable character assets, we launched The Cheeky Controller \u2014 a limited-edition collectible modeled after Deadpool's most talked-about body part \u2014 as an exclusive prize in a global sweepstakes. This unexpected twist on character merchandising not only ignited fan frenzy and drove massive earned media, it also deepened brand engagement and delivered a 25% sales uplift on the Microsoft Store, proving the power of bold retail ideas to cut through.`,impact:"+25% sales increase on the Microsoft Store",vimeoId:"000000000",vimeoPreviewId:"1135324421",awards:[{type:"cannes",label:"Bronze Lion (Entertainment)"},{type:"andy",label:"Gold (Idea)"},{type:"theoneshow",label:"Bronze Pencil"},{type:"gerety",label:"Gold (Humour, Entertainment)"},{type:"dandad",label:"Wood Pencil"}]},"mcdonalds-not-first-dates":{client:"McDonald's",title:"Not for First Dates",truth:"While McDonald's may not mark the beginning of love, it often becomes part of love's journey \u2014 for second dates, late-night comfort, and everyday rituals.",truthWellTold:"Not for first dates. But for every other one.",description:`By embracing a viral moment that its restaurant "wasn't for first dates," McDonald's reignited emotional connection with the audience by celebrating second, fifth, and forever dates through intimate, honest storytelling.`,impact:"",vimeoId:"4194cb55da",vimeoPreviewId:"1135324485",awards:[{type:"cannes",label:"Bronze Lion, Outdoor"}]},"just-eat-did-somebody-say":{client:"Just Eat",title:"Did Somebody Say",truth:"Getting what you want, when you want it, is modern life's greatest joy.",truthWellTold:"Did Somebody Say",description:`Just Eat UK&I and McCann London launched a fresh take on the iconic "Did Somebody Say" campaign, starring UK garage legend Craig David. Celebrating neighbourhoods and community spirit, the new campaign brings a distinctly local "flava" to the platform. Craig David's garage-inspired remix of the famous jingle soundtracks a lively journey through "Impossible Street," showcasing diverse households and the many ways Just Eat serves everyday moments \u2014 from cosy takeaways to last-minute groceries. Directed by Romain Chassaing, the campaign spans TV, cinema, radio, and social, spotlighting Just Eat's deep connection to local culture.`,impact:"Since launching, ad recognition is now at 67% (category average is 38%), profits have increased by 56%, and the UK has experienced +24% YOY revenue growth. Best of all, Just Eat has taken its rightful place as number 1 in the food delivery category, all whilst entertaining the world.",vimeoId:"1130326849",vimeoPreviewId:"1135324443",awards:[]},"prada-paradigme":{client:"Prada",title:"Paradigme",truth:"There's no singular version of masculinity. Each individual creates their own paradigm.",truthWellTold:"What if there's another way?",description:`With a cinematic film starring brand ambassador Tom Holland, Prada Beauty unveiled its new masculine fragrance, Paradigme. Created by McCann Paris and directed by Oscar-winner Thomas Vinterberg, the two-minute spot follows Holland as he reflects on life's possibilities, asking, "What if there's another way?" Through moments of introspection, movement, and creativity, the film captures themes of growth and self-discovery, echoing the fragrance's spirit of redefining one's path. Blending emotional storytelling with striking visuals, Paradigme celebrates authenticity and curiosity. The campaign launched globally across TV, cinema, and social platforms, embodying Prada's call to "create your paradigm."`,impact:"",vimeoId:"1130327867",vimeoPreviewId:"1135324463",awards:[]}};console.log("[PRELOADER] Module loaded");var y=null,J=null,Ee=null,G=null,Je=!0,Ye=null,tt=!1,Le=75,Ze=300,Ue=null,Ke=null,ut=0,Kt=800;var ht=100,ft="",Be=!1,Re=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;function Jt(){typeof document=="undefined"||!document.body||Be||(ft=document.body.style.overflow||"",Be=!0)}function ae(){typeof document=="undefined"||!document.body||(Be?document.body.style.overflow=ft:document.body.style.overflow="",Be=!1)}function pt({selector:e="#preloader",videoSelector:t="video[data-wf-ignore], video[autoplay], video[data-autoplay]",vimeoPreload:o="prefetch",vimeoBufferLimit:n=5,projectData:r=me,minLoadTime:c=1e3,showDebugLog:a=!0,pulseDuration:d=2400,pulseOpacity:f=.42,pulseMinOpacity:u=.4,enableResizeCover:w=!0,resizeFadeDuration:T=150,resizeShowDelay:p=800,eventLeadMs:b=100}={}){if(Je=a,Le=T,Kt=p,ht=b,v("Initializing preloader..."),Jt(),document.body.classList.add("preloader-active"),document.body.style.overflow="hidden",y=document.querySelector(e),!y){console.error("[PRELOADER] \u274C Preloader element not found"),document.body.classList.remove("preloader-active"),ae();return}if(y.style.display="flex",y.style.position="fixed",y.style.zIndex="999999",J=y.querySelector(".preloader__signet"),Ee=y.querySelector(".preloader__progress"),!J){console.error("[PRELOADER] \u274C Signet element not found");return}Je&&Qt(),v("\u2713 Elements found","success"),v("\u2713 Pulse animation (CSS-driven) configured","info"),ao({duration:d,minOpacity:u,amplitude:f});let S=performance.now();Promise.all([eo(t),io(r,o,n)]).then(()=>(v("\u2713 HTML5 videos and Vimeo preload complete","success"),ro())).then(()=>(v("\u2713 Slides built","success"),so())).then(()=>{let O=performance.now()-S,I=Math.max(0,c-O);v(`\u2713 All media loaded and previews playing in ${Math.round(O)}ms`,"success"),I>0&&v(`Waiting ${Math.round(I)}ms (min display time)...`,"info"),setTimeout(()=>{et()},I)}).catch(O=>{console.error("[PRELOADER] \u274C Error:",O),v(`\u274C Error loading media: ${O.message}`,"error");let I=performance.now()-S,x=Math.max(0,c-I);setTimeout(()=>{v("Hiding despite errors (graceful degradation)","warning"),et()},x)})}function Zt(){et()}function Qt(){!y||G||(G=document.createElement("div"),G.className="preloader__log",G.setAttribute("aria-live","polite"),G.setAttribute("aria-atomic","false"),y.appendChild(G),v("Debug log initialized","info"))}function v(e,t="info"){let o=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),n=`[PRELOADER] ${e}`;switch(t){case"error":console.error(n);break;case"warning":console.warn(n);break;case"success":case"info":default:console.log(n)}if(!Je||!G)return;let r=document.createElement("div");r.className=`preloader__log-entry preloader__log-entry--${t}`,r.textContent=`${o} ${e}`,G.appendChild(r),G.scrollTop=G.scrollHeight;let c=G.querySelectorAll(".preloader__log-entry");c.length>20&&c[0].remove()}async function eo(e){let t=Array.from(document.querySelectorAll(e));if(t.length===0){v("\u26A0 No videos found to prefetch","warning");return}v(`\u{1F3AC} Found ${t.length} video(s) to prefetch`,"info");let o=0,n=t.map((d,f)=>to(d,f+1,t.length,()=>{o++,oo(o,t.length)})),r=await Promise.allSettled(n),c=r.filter(d=>d.status==="fulfilled").length,a=r.filter(d=>d.status==="rejected").length;a>0&&v(`\u26A0 ${a} video(s) failed to load`,"warning"),v(`\u2713 ${c}/${t.length} video(s) ready`,"success")}function to(e,t,o,n){return new Promise((r,c)=>{if(e.readyState>=3){v(`\u2713 Video ${t}/${o} already loaded`,"success"),n(),r(e);return}let a=()=>{v(`\u2713 Video ${t}/${o} ready`,"success"),u(),n(),r(e)},d=T=>{v(`\u26A0 Video ${t}/${o} failed`,"warning"),u(),c(T)},f=()=>{v(`\u26A0 Video ${t}/${o} timeout (10s)`,"warning"),u(),c(new Error("Video load timeout"))},u=()=>{e.removeEventListener("canplaythrough",a),e.removeEventListener("canplay",a),e.removeEventListener("error",d),clearTimeout(w)},w=setTimeout(f,1e4);e.addEventListener("canplaythrough",a,{once:!0}),e.addEventListener("canplay",a,{once:!0}),e.addEventListener("error",d,{once:!0}),e.readyState===0&&(v(`Loading video ${t}/${o}...`,"info"),e.load())})}function oo(e,t){if(!Ee)return;let o=Math.round(e/t*100);Ee.textContent=`${o}%`,Ee.setAttribute("aria-valuenow",o)}async function io(e,t="prefetch",o=5){if(t==="none"){v("\u23ED Vimeo preloading disabled","info");return}let n=Object.values(e).map(r=>r==null?void 0:r.vimeoId).filter(r=>r&&r!=="000000000"&&r!=="null"&&r!==null);if(n.length===0){v("\u26A0 No valid Vimeo IDs found in project data","warning");return}switch(v(`\u{1F3AC} Found ${n.length} Vimeo video(s) in project data`,"info"),t){case"prebuffer":return no(n,o);case"prefetch":default:return Qe(n)}}function Qe(e){return v(`\u{1F517} Adding prefetch hints for ${e.length} Vimeo video(s)`,"info"),e.forEach((t,o)=>{let n=document.createElement("link");n.rel="prefetch",n.href=`https://player.vimeo.com/video/${t}`,n.as="document",document.head.appendChild(n),v(`\u2713 Vimeo ${o+1}/${e.length} prefetch hint added`,"success")}),v("\u2713 All Vimeo prefetch hints added (lightweight)","success"),Promise.resolve()}function no(e,t=5){let o=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(o&&o.effectiveType!=="4g")return v("\u26A0 Skipping Vimeo prebuffer (slow connection detected)","warning"),v("\u2713 Falling back to prefetch hints only","info"),Qe(e);if(n)return v("\u26A0 Skipping Vimeo prebuffer (mobile device detected)","warning"),v("\u2713 Falling back to prefetch hints only","info"),Qe(e);let r=e.slice(0,t);return r.length<e.length&&(v(`\u26A0 Limiting prebuffer to first ${t} videos`,"warning"),e.slice(t).forEach(a=>{let d=document.createElement("link");d.rel="prefetch",d.href=`https://player.vimeo.com/video/${a}`,d.as="document",document.head.appendChild(d)})),v(`\u{1F3AC} Prebuffering ${r.length} Vimeo video(s)`,"info"),new Promise(c=>{let a=document.createElement("div");a.id="vimeo-prebuffer-container",a.style.cssText=`
      position: fixed;
      left: -9999px;
      top: -9999px;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    `,a.setAttribute("aria-hidden","true");let d=0;r.forEach((f,u)=>{let w=document.createElement("iframe");w.src=`https://player.vimeo.com/video/${f}?muted=1&autoplay=1&background=1&quality=360p`,w.allow="autoplay",w.width="1",w.height="1",w.loading="eager",v(`Loading Vimeo ${u+1}/${r.length} (ID: ${f})...`,"info"),setTimeout(()=>{d++,v(`\u2713 Vimeo ${u+1}/${r.length} prebuffered`,"success"),w.remove(),d===r.length&&(a.remove(),v("\u2713 All Vimeo videos prebuffered","success"),c())},8e3),a.appendChild(w)}),document.body.appendChild(a)})}function ro(){return new Promise(e=>{let t=document.querySelectorAll(".slide");if(t.length>0){v(`\u2713 Found ${t.length} existing slides`,"success"),e();return}let o=setTimeout(()=>{v("\u26A0\uFE0F  Slides build timeout - proceeding anyway","warning"),e()},5e3);window.addEventListener("slides:built",()=>{clearTimeout(o),v("\u2713 Slides built event received","success"),e()},{once:!0})})}function so(){return new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{let t=document.querySelectorAll('.slide__preview iframe[src*="vimeo.com"]');if(t.length===0){v("\u26A0\uFE0F  No preview videos found - proceeding","warning"),e();return}v(`\u{1F3AC} Waiting for ${t.length} preview video(s) to play...`,"info"),lo().then(()=>{let o=Array.from(t).map((n,r)=>new Promise(c=>{try{if(!window.Vimeo||!window.Vimeo.Player){v(`\u26A0\uFE0F  Vimeo API not available for video ${r+1} - assuming ready`,"warning"),c();return}let a=new window.Vimeo.Player(n),d=!1,f=!1,u=()=>{d&&f&&(v(`\u2713 Preview video ${r+1}/${t.length} playing`,"success"),c())};a.ready().then(()=>{d=!0,u()}).catch(()=>{setTimeout(()=>{d=!0,u()},1e3)}),a.on("play",()=>{f=!0,u()}),setTimeout(()=>{a.getPaused().then(w=>{w||(f=!0,u())}).catch(()=>{f=!0,u()})},1500),setTimeout(()=>{(!d||!f)&&(v(`\u26A0\uFE0F  Preview video ${r+1} timeout - proceeding`,"warning"),c())},4e3)}catch(a){v(`\u26A0\uFE0F  Error checking preview video ${r+1}: ${a.message}`,"warning"),c()}}));Promise.all(o).then(()=>{v("\u2713 All preview videos playing","success"),e()})}).catch(()=>{v("\u26A0\uFE0F  Vimeo API failed to load - proceeding without verification","warning"),e()})})})})}function lo(){return window.Vimeo&&window.Vimeo.Player?Promise.resolve():new Promise(e=>{let t=document.querySelector('script[src*="player.vimeo.com/api/player.js"]');if(t){t.addEventListener("load",()=>e());return}let o=document.createElement("script");o.src="https://player.vimeo.com/api/player.js",o.async=!0,o.onload=()=>e(),o.onerror=()=>e(),document.head.appendChild(o)})}function dt(){try{Re!=null&&Re.emit&&Re.emit("load-completed")}catch{}try{window.dispatchEvent(new CustomEvent("load-completed"))}catch{}v('\u{1F3AF} Emitted "load-completed" event',"success")}function et(){if(!y){document.body.classList.remove("preloader-active"),ae();return}if(v("\u{1F3AF} Hiding preloader...","info"),matchMedia("(prefers-reduced-motion: reduce)").matches){dt(),document.body.classList.remove("preloader-active"),ae(),setTimeout(()=>{y&&(y.style.display="none",y.style.pointerEvents="none"),document.body.classList.remove("preloader-active"),ae();let t=document.querySelector(".perspective-wrapper");t&&(t.classList.remove("modal-open"),t.style.overflow=""),window.dispatchEvent(new CustomEvent("preloader:complete")),v("\u2713 Preloader complete","success")},ht);return}y.classList.add("is-revealing"),dt(),document.body.classList.remove("preloader-active"),ae(),setTimeout(()=>{y&&(y.style.display="none",y.style.pointerEvents="none"),document.body.classList.remove("preloader-active"),ae();let t=document.querySelector(".perspective-wrapper");t&&(t.classList.remove("modal-open"),t.style.overflow=""),window.dispatchEvent(new CustomEvent("preloader:complete")),v("\u2713 Preloader complete","success")},250)}function ao({duration:e=2400,minOpacity:t,amplitude:o=.42}={}){if(!J)return;let n=typeof e=="number"&&!Number.isNaN(e)?e:2400,r=n>0&&n<=10?n*1e3:n,c=Math.max(400,r),a=typeof t=="number"&&!Number.isNaN(t),f=1-Math.min(Math.max(o,0),.95),w=Math.min(Math.max(a?t:f,0),.95);J.style.setProperty("--pulse-duration",`${c}ms`),J.style.setProperty("--pulse-min-opacity",w.toFixed(3)),v(`\u2713 Pulse variables applied (duration: ${c}ms, min opacity: ${w.toFixed(2)})`,"success")}function co(){if(!y)return;if(matchMedia("(prefers-reduced-motion: reduce)").matches){y.style.display="flex",y.classList.add("is-resizing","is-resize-visible"),y.style.opacity="1",y.style.visibility="visible",y.style.pointerEvents="auto";return}y.style.setProperty("--resize-fade-in-duration",`${Ze}ms`),y.style.setProperty("--resize-fade-duration",`${Le}ms`),y.style.display="flex",y.style.position="fixed",y.style.zIndex="999999",y.style.pointerEvents="auto",y.classList.remove("is-revealing"),y.classList.add("is-resizing"),y.classList.remove("is-resize-visible"),y.style.opacity="0",y.style.visibility="visible",y.style.transition=`opacity ${Ze}ms cubic-bezier(0.4, 0, 0.2, 1)`,requestAnimationFrame(()=>{y&&y.classList.contains("is-resizing")&&(y.classList.add("is-resize-visible"),y.style.opacity="1")})}function uo(){if(!y)return;let e=document.body.classList.contains("preloader-active")&&!y.classList.contains("is-revealing");if(matchMedia("(prefers-reduced-motion: reduce)").matches){y.classList.remove("is-resizing","is-resize-visible"),y.style.pointerEvents="none",e||(y.style.display="none");return}y.classList.remove("is-resize-visible"),y.style.transition=`opacity ${Le}ms cubic-bezier(0.4, 0, 0.2, 1), visibility ${Le}ms step-end`,requestAnimationFrame(()=>{y&&(y.style.opacity="0")}),setTimeout(()=>{y&&!tt&&(y.classList.remove("is-resizing"),y.style.opacity="",y.style.visibility="",y.style.transition="",y.style.pointerEvents="none",e||(y.style.display="none"),ut=performance.now())},Le)}var te=!1,ce=null;function mt({delay:e=300}={}){return new Promise(t=>{if(te||!y){t();return}if(tt){v("[NAV-COVER] \u26A0\uFE0F Resize in progress, skipping navigation cover","warning"),t();return}if(te=!0,v("[NAV-COVER] \u{1F3AF} Showing navigation cover","info"),matchMedia("(prefers-reduced-motion: reduce)").matches){v("[NAV-COVER] \u26A1 Reduced motion: instant navigation","info"),t(),te=!1;return}co(),ce=setTimeout(()=>{v("[NAV-COVER] \u2713 Navigation cover ready","success"),t()},Math.min(e,Ze)),setTimeout(()=>{te&&(te=!1)},5e3)})}function gt(){te&&(v("[NAV-COVER] \u274C Navigation aborted","warning"),te=!1,ce&&(clearTimeout(ce),ce=null),uo())}function ho(){var e;stopAnimations(),Ye&&(clearTimeout(Ye),Ye=null),Ue&&(clearTimeout(Ue),Ue=null),Ke&&(clearTimeout(Ke),Ke=null),ce&&(clearTimeout(ce),ce=null),te=!1,J&&(J.style.removeProperty("--pulse-duration"),J.style.removeProperty("--pulse-min-opacity")),y=null,J=null,Ee=null,G=null,tt=!1,ut=0,(e=document.body)==null||e.classList.remove("preloader-active"),ae(),v("Cleaned up","info")}typeof window!="undefined"&&(window.App=window.App||{},window.App.preloader={cleanup:ho,hide:Zt});console.log("[ACCORDION] Module loaded");function yt(e={}){var Q,Se;let{selector:t=".accordeon",openDuration:o=360,closeDuration:n=260,itemDuration:r=320,itemOverlap:c=100,itemDistance:a=16}=e,d=document.querySelector(t);if(!d){console.log("[ACCORDION] \u274C Root element not found:",t);return}console.log("[ACCORDION] \u2713 Root element found:",t),window._accordionRoot=d,window._accordionDebug=!0;let f=i=>i==null?void 0:i.querySelector(":scope > .acc-list"),u=i=>{let h=i.parentElement;return h!=null&&h.classList.contains("acc-list")?h:d},w=(...i)=>{try{console.log("[ACCORDION]",...i)}catch{}},T=i=>{var h;return(h=i==null?void 0:i.classList)!=null&&h.contains("acc-section")?"section":"item"},p=i=>{let h=i==null?void 0:i.querySelector(":scope > .acc-trigger");return((h==null?void 0:h.textContent)||"").trim().replace(/\s+/g," ").slice(0,80)},b="is-active",S={COLLAPSED:"collapsed",CLOSING:"closing",OPENING:"opening",OPEN:"open"},O=(Se=(Q=window.matchMedia)==null?void 0:Q.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:Se.matches,I=O?0:Math.max(o,16),x=O?0:Math.max(n,16),P=O?0:Math.max(r,16),N=O?0:Math.min(Math.max(c,0),P),q=P>0?Math.max(P-N,0):0,B=Math.max(a,0);d.style.setProperty("--acc-item-distance",`${B}px`);let k=new WeakMap,H=new WeakMap,ie=i=>1-Math.pow(1-i,3),fe=i=>i*i*i;function X(i,h){i.dataset.state=h,i.setAttribute("data-accordion-state",h)}function Z(i){if(!i.dataset.accDisplay){let h=window.getComputedStyle(i).display;i.dataset.accDisplay=h==="none"?"block":h}i.style.display=i.dataset.accDisplay||"block"}function pe(i){let h=k.get(i);typeof h=="number"&&cancelAnimationFrame(h),k.delete(i),i.style.willChange=""}function Oe(i,h,E){pe(i);let C=h==="open"?I:x,A=i.getBoundingClientRect().height,D=h==="open"?i.scrollHeight:0;if(C<=16){i.style.height=h==="open"?"auto":"0px",i.style.overflow=h==="open"?"visible":"hidden",E==null||E();return}let M=performance.now(),V=h==="open"?ie:fe;h==="open"&&A===0?i.style.height="0px":h==="close"&&(i.style.height==="auto"||i.style.height==="")&&(i.style.height=`${A}px`),i.style.overflow="hidden",i.style.willChange="height";let se=ee=>{let le=ee-M,l=C===0?1:Math.min(le/C,1),m=V(l),L=A+(D-A)*m;if(i.style.height=`${L}px`,l<1){k.set(i,requestAnimationFrame(se));return}k.delete(i),i.style.height=h==="open"?"auto":"0px",i.style.overflow=h==="open"?"visible":"hidden",i.style.willChange="",E==null||E()};k.set(i,requestAnimationFrame(se))}function ve(i){let h=H.get(i);typeof h=="number"&&cancelAnimationFrame(h),H.delete(i),i.style.willChange=""}function ct(i,h,E){ve(i);let C=P,A=parseFloat(i.style.getPropertyValue("--acc-progress")),D=Number.isFinite(A)?A:h==="open"?0:1,M=h==="open"?1:0;if(C<=16){i.style.setProperty("--acc-progress",M.toString());return}let V=performance.now()+E,se=h==="open"?ie:fe;i.style.willChange="transform, opacity";let ee=le=>{if(le<V){H.set(i,requestAnimationFrame(ee));return}let l=le-V,m=Math.min(l/C,1),L=se(m),$=D+(M-D)*L;if(i.style.setProperty("--acc-progress",$.toFixed(3)),m<1){H.set(i,requestAnimationFrame(ee));return}H.delete(i),i.style.setProperty("--acc-progress",M.toString()),i.style.willChange=""};H.set(i,requestAnimationFrame(ee))}function Ae(i,h){let E=Array.from(i.querySelectorAll(":scope > .acc-item"));if(!E.length)return;let C=E.length;E.forEach((A,D)=>{let M=h==="open"?D:C-D-1,V=Math.max(q*M,0);ct(A,h,V)})}function j(i,h){let E=Math.max(0,Math.min(1,h));i.querySelectorAll(":scope > .acc-item").forEach(C=>{ve(C),C.style.setProperty("--acc-progress",E.toFixed(3))})}function Ce(i,h={}){let E=[];i==="acc-open"&&E.push("accordeon-open"),i==="acc-close"&&E.push("accordeon-close"),[i,...E].forEach(C=>{try{window.dispatchEvent(new CustomEvent(C,{detail:h})),w(`\u{1F4E2} EMITTING: "${C}"`,h)}catch(A){w("emit error",A==null?void 0:A.message)}})}function we(i){X(i,S.OPEN),i.style.height="auto",i.style.overflow="visible",j(i,1),w("expanded",{id:i.id})}function xe(i){X(i,S.COLLAPSED),i.classList.remove("is-active"),i.setAttribute("aria-hidden","true"),i.style.height="0px",i.style.overflow="hidden",j(i,0),w("collapsed",{id:i.id})}function Ne(i){Z(i),pe(i),X(i,S.OPENING),i.classList.add("is-active"),i.setAttribute("aria-hidden","false"),i.style.display=i.dataset.accDisplay||"block",i.style.overflow="hidden",(i.style.height===""||i.style.height==="auto")&&(i.style.height="0px"),j(i,0),Ae(i,"open"),Ce("acc-open",{id:i.id}),Oe(i,"open",()=>we(i))}function ne(i){Z(i),pe(i),X(i,S.CLOSING),i.style.overflow="hidden",i.style.height=`${i.getBoundingClientRect().height}px`,Ae(i,"close"),Ce("acc-close",{id:i.id}),Oe(i,"close",()=>xe(i))}function Pe(i){Z(i),pe(i),X(i,S.COLLAPSED),i.classList.remove("is-active"),i.setAttribute("aria-hidden","true"),i.style.display=i.dataset.accDisplay||"block",i.style.height="0px",i.style.overflow="hidden",j(i,0)}function re(i){(i||d).querySelectorAll(".acc-item > .acc-list").forEach(E=>{var D;if(E.dataset.state===S.COLLAPSED)return;Pe(E);let C=E.closest(".acc-item"),A=C==null?void 0:C.querySelector(":scope > .acc-trigger");A==null||A.setAttribute("aria-expanded","false"),(D=A==null?void 0:A.classList)==null||D.remove(b)})}function ke(i){let h=u(i);if(!h)return;let E=i.matches(".acc-section")?"acc-section":"acc-item";Array.from(h.children).forEach(C=>{var V;if(C===i||!C.classList.contains(E))return;let A=f(C);if(!A)return;let D=A.dataset.state;if(D===S.COLLAPSED||D===S.CLOSING)return;w("close sibling",{kind:E,label:p(C),id:A.id}),ne(A);let M=C.querySelector(":scope > .acc-trigger");M==null||M.setAttribute("aria-expanded","false"),(V=M==null?void 0:M.classList)==null||V.remove(b)})}let be=d.querySelectorAll(".acc-trigger");be.forEach((i,h)=>{let E=i.closest(".acc-section, .acc-item"),C=f(E);if(!C)return;let A=C.id||`acc-panel-${h}`;C.id=A,i.setAttribute("aria-controls",A);let D=C.classList.contains("is-active");i.setAttribute("aria-expanded",D?"true":"false"),D?i.classList.add(b):i.classList.remove(b)}),w("bootstrapped",be.length,"triggers"),document.body.classList.add("js-prep"),d.querySelectorAll(".acc-list").forEach(i=>{Z(i);let h=i.classList.contains("is-active"),E=h?S.OPEN:S.COLLAPSED;X(i,E),i.setAttribute("aria-hidden",h?"false":"true"),i.style.height=h?"auto":"0px",i.style.overflow=h?"visible":"hidden",j(i,h?1:0)}),requestAnimationFrame(()=>{document.body.classList.remove("js-prep")});function De(i){var D,M;let h=f(i);if(!h)return;let E=i.querySelector(":scope > .acc-trigger"),C=h.dataset.state,A=!(C===S.OPEN||C===S.OPENING);if(w("toggle",{kind:T(i),opening:A,label:p(i),id:h.id}),A&&ke(i),T(i)==="section"&&re(A?d:i),A){Ne(h),E==null||E.setAttribute("aria-expanded","true"),(D=E==null?void 0:E.classList)==null||D.add(b);return}ne(h),E==null||E.setAttribute("aria-expanded","false"),(M=E==null?void 0:E.classList)==null||M.remove(b)}function Me(i){let h=i.target.closest(".acc-trigger");if(!h||!d.contains(h)||i.type==="keydown"&&i.key!=="Enter"&&i.key!==" ")return;i.preventDefault();let E=h.closest(".acc-section, .acc-item");E&&(w(i.type,{label:(h.textContent||"").trim().replace(/\s+/g," ").slice(0,80)}),De(E))}d.addEventListener("click",Me),d.addEventListener("keydown",Me),window._accordionTest={open:i=>{let h=document.getElementById(i);h&&Ne(h)},close:i=>{let h=document.getElementById(i);h&&ne(h)},forceCloseAll:()=>{d.querySelectorAll(".acc-list").forEach(i=>Pe(i)),d.querySelectorAll(".acc-trigger").forEach(i=>{i.setAttribute("aria-expanded","false"),i.classList.remove(b)})},state:()=>Array.from(d.querySelectorAll(".acc-list")).map(i=>({id:i.id,state:i.dataset.state,height:i.style.height}))},console.log("[ACCORDION] Debug functions available at window._accordionTest")}console.log("[VIMEO] Module loaded");function fo(e){var o;if(!e)return"";let t=String(e).trim();if(/^\d+$/.test(t))return t;try{let n=new URL(t,"https://example.com");if((n.hostname||"").includes("vimeo.com")){let c=n.pathname.split("/").filter(Boolean);return((o=(c[c.length-1]||"").match(/\d+/))==null?void 0:o[0])||""||""}}catch{}return""}function $e(e,t,o={}){if(!e)return console.log("[VIMEO] \u274C mountVimeo called without container"),null;if(typeof e.__vimeoCleanup=="function")try{e.__vimeoCleanup()}catch(p){console.warn("[VIMEO] \u26A0\uFE0F Previous cleanup failed:",p)}let n=fo(t);if(!n)return e.innerHTML="",e.__vimeoCleanup=void 0,console.log("[VIMEO] \u26A0\uFE0F No valid video ID found"),null;let r=new Set(["query","startAt","playOnReady","unmuteOnStart","desiredVolume"]),c={};Object.entries(o||{}).forEach(([p,b])=>{!r.has(p)&&typeof o.query=="undefined"&&(c[p]=b)});let a={dnt:1,...c,...o.query||{}},d=new URLSearchParams(a).toString(),f=`https://player.vimeo.com/video/${n}?${d}`,u=document.createElement("iframe");u.src=f,u.allow="autoplay; fullscreen; picture-in-picture; encrypted-media",u.setAttribute("frameborder","0"),u.setAttribute("allowfullscreen",""),u.style.cssText=`
    position: absolute;
    top: 50%;
    left: 50%;
    /* Sizes are set dynamically to achieve true cover */
    width: 100%;
    height: 100%;
    transform: translate(-50%, -50%);
    border: 0;
  `,e.innerHTML="",e.appendChild(u);let w=e.style.overflow;(!e.style.position||e.style.position==="static")&&(e.style.position="relative"),e.style.overflow="hidden";let T=[];return e.__vimeoCleanup=()=>{T.splice(0).forEach(p=>{try{p()}catch(b){console.warn("[VIMEO] \u26A0\uFE0F Cleanup error:",b)}}),e.__vimeoCleanup=void 0},po().then(()=>{if(!(window.Vimeo&&window.Vimeo.Player)){Te(e,u,16/9,1.02),console.warn("[VIMEO] \u26A0\uFE0F Vimeo Player API unavailable \u2013 using fallback sizing");return}let p=new window.Vimeo.Player(u),{startAt:b=null,playOnReady:S=!1,unmuteOnStart:O=!1,desiredVolume:I}=o;p.ready().then(()=>{console.log("[VIMEO] \u2713 Player ready");let x=Promise.all([p.getVideoWidth(),p.getVideoHeight()]).then(([N,q])=>{let B=N&&q?N/q:1.7777777777777777;if(Te(e,u,B,1.02),typeof ResizeObserver=="function"){let H=new ResizeObserver(()=>Te(e,u,B,1.02));H.observe(e),T.push(()=>H.disconnect())}else console.warn("[VIMEO] \u26A0\uFE0F ResizeObserver not supported; skipping container observer");let k=()=>Te(e,u,B,1.02);window.addEventListener("resize",k,{passive:!0}),T.push(()=>window.removeEventListener("resize",k))}).catch(()=>{Te(e,u,16/9,1.02)}),P=[];if(typeof b=="number"&&!Number.isNaN(b)){let N=Math.max(0,b);P.push(p.setCurrentTime(N).then(()=>{console.log(`[VIMEO] \u{1F3AF} Seeked to ${N}s`)}).catch(q=>{console.warn("[VIMEO] \u26A0\uFE0F Could not set start time:",(q==null?void 0:q.message)||q)}))}return O?P.push(p.setVolume(typeof I=="number"?I:1).then(()=>p.setMuted(!1).catch(()=>{})).catch(N=>{console.warn("[VIMEO] \u26A0\uFE0F Could not set volume:",(N==null?void 0:N.message)||N)})):typeof I=="number"&&P.push(p.setVolume(I).catch(N=>{console.warn("[VIMEO] \u26A0\uFE0F Could not set desired volume:",(N==null?void 0:N.message)||N)})),Promise.all([x,...P])}).then(()=>S?p.play().catch(x=>{console.warn("[VIMEO] \u26A0\uFE0F Playback blocked by browser policy:",(x==null?void 0:x.message)||x)}):null).catch(x=>{console.warn("[VIMEO] \u26A0\uFE0F Player initialization issue:",(x==null?void 0:x.message)||x)})}),T.push(()=>{e.style.overflow=w}),u}function po(){return window.Vimeo&&window.Vimeo.Player?Promise.resolve():new Promise(e=>{let t=document.querySelector('script[src*="player.vimeo.com/api/player.js"]');if(t){t.addEventListener("load",()=>e());return}let o=document.createElement("script");o.src="https://player.vimeo.com/api/player.js",o.async=!0,o.onload=()=>e(),o.onerror=()=>e(),document.head.appendChild(o)})}function Te(e,t,o,n=1){let r=e.getBoundingClientRect(),c=Math.max(1,r.width),a=Math.max(1,r.height),d=c/a,f,u;d>o?(f=c,u=c/o):(u=a,f=a*o);let w=Math.ceil(f*n),T=Math.ceil(u*n);t.style.width=`${w}px`,t.style.height=`${T}px`,t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)"}function Y(e,t=window,o={}){try{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o}))}catch{}try{window.dispatchEvent(new CustomEvent(e,{detail:o}))}catch{}}console.log("[SLIDES] Module loaded");var He=null;function ot(e={}){var p;let{containerSelector:t=".perspective-wrapper",replaceExisting:o=!0,projectDataOverride:n=(p=window.McCANN_PROJECT_DATA)!=null?p:me}=e;He=n;let r=Object.keys(He||{});console.log(`[SLIDES] \u2713 Loaded ${r.length} project${r.length!==1?"s":""} from JSON`);let c=document.querySelector(t);if(!c){console.log("[SLIDES] \u274C Container not found:",t);return}let a=c.querySelectorAll(".slide"),d=a[0]||document.querySelector(".slide");if(!d){console.log("[SLIDES] \u274C No .slide template found");return}let f=null,u=d.nextElementSibling;for(;u;){if(!u.classList.contains("slide")){f=u;break}u=u.nextElementSibling}let w=d.cloneNode(!0);mo(w);let T=document.createDocumentFragment();r.forEach(b=>{let S=He[b];if(!S){console.warn(`[SLIDES] \u26A0\uFE0F  Project "${b}" missing data, skipping`);return}let O=w.cloneNode(!0);O.dataset.project=b,O.setAttribute("role","button"),O.setAttribute("tabindex","0"),O.setAttribute("aria-label",`${S.client||""} \u2014 ${S.title||""}`.trim());let I=O.querySelector(".slide__client"),x=O.querySelector(".slide__title");I&&(I.textContent=S.client||""),x&&(x.textContent=S.title||"");let P=O.querySelector(".slide__preview");P&&(!S.vimeoPreviewId||S.vimeoPreviewId==="000000000"?console.warn(`[SLIDES] \u26A0\uFE0F  Missing vimeoPreviewId for "${b}"`):requestAnimationFrame(()=>{$e(P,S.vimeoPreviewId,{autoplay:1,muted:1,autopause:0,controls:0,background:1,playsinline:1,loop:1,dnt:1})})),T.appendChild(O)}),o&&a.forEach(b=>b.remove()),f&&f.parentNode===c?c.insertBefore(T,f):c.appendChild(T),console.log(`[SLIDES] \u2713 Rendered ${r.length} slide${r.length!==1?"s":""}`),Y("slides:built",c,{count:r.length}),window.App=window.App||{},window.App.slides={rebuild:()=>ot(e),getProjectData:()=>He}}function mo(e){var t;e.hasAttribute&&e.hasAttribute("id")&&e.removeAttribute("id"),(t=e.querySelectorAll)==null||t.call(e,"[id]").forEach(o=>o.removeAttribute("id"))}var ze=!1,Ie=0,F=null;function vt(){ze||(ze=!0,F=document.querySelector(".perspective-wrapper")||document.body,F===document.body?Ie=window.scrollY||document.documentElement.scrollTop||0:Ie=F.scrollTop||0,F===document.body&&(document.body.style.position="fixed",document.body.style.top=`-${Ie}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%"),F.style.overflow="hidden",F.classList.add("modal-open"))}function We({delayMs:e=0}={}){if(!ze)return;let t=()=>{F&&(F.style.overflow="",F.classList.remove("modal-open"),F===document.body?(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo(0,Ie)):F.scrollTop=Ie,ze=!1,F=null)};e>0?setTimeout(t,e):t()}var go="1.3.14";function St(e,t,o){return Math.max(e,Math.min(t,o))}function yo(e,t,o){return(1-o)*e+o*t}function vo(e,t,o,n){return yo(e,t,1-Math.exp(-o*n))}function wo(e,t){return(e%t+t)%t}var bo=class{constructor(){g(this,"isRunning",!1);g(this,"value",0);g(this,"from",0);g(this,"to",0);g(this,"currentTime",0);g(this,"lerp");g(this,"duration");g(this,"easing");g(this,"onUpdate")}advance(e){var o;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;let n=St(0,this.currentTime/this.duration,1);t=n>=1;let r=t?1:this.easing(n);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=vo(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(o=this.onUpdate)==null||o.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:o,duration:n,easing:r,onStart:c,onUpdate:a}){this.from=this.value=e,this.to=t,this.lerp=o,this.duration=n,this.easing=r,this.currentTime=0,this.isRunning=!0,c==null||c(),this.onUpdate=a}};function So(e,t){let o;return function(...n){let r=this;clearTimeout(o),o=setTimeout(()=>{o=void 0,e.apply(r,n)},t)}}var Eo=class{constructor(e,t,{autoResize:o=!0,debounce:n=250}={}){g(this,"width",0);g(this,"height",0);g(this,"scrollHeight",0);g(this,"scrollWidth",0);g(this,"debouncedResize");g(this,"wrapperResizeObserver");g(this,"contentResizeObserver");g(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});g(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});g(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=t,o&&(this.debouncedResize=So(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Et=class{constructor(){g(this,"events",{})}emit(e,...t){var n;let o=this.events[e]||[];for(let r=0,c=o.length;r<c;r++)(n=o[r])==null||n.call(o,...t)}on(e,t){var o;return(o=this.events[e])!=null&&o.push(t)||(this.events[e]=[t]),()=>{var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(r=>t!==r)}}off(e,t){var o;this.events[e]=(o=this.events[e])==null?void 0:o.filter(n=>t!==n)}destroy(){this.events={}}},wt=100/6,oe={passive:!1},Lo=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){g(this,"touchStart",{x:0,y:0});g(this,"lastDelta",{x:0,y:0});g(this,"window",{width:0,height:0});g(this,"emitter",new Et);g(this,"onTouchStart",e=>{let{clientX:t,clientY:o}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=o,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});g(this,"onTouchMove",e=>{let{clientX:t,clientY:o}=e.targetTouches?e.targetTouches[0]:e,n=-(t-this.touchStart.x)*this.options.touchMultiplier,r=-(o-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=o,this.lastDelta={x:n,y:r},this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})});g(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});g(this,"onWheel",e=>{let{deltaX:t,deltaY:o,deltaMode:n}=e,r=n===1?wt:n===2?this.window.width:1,c=n===1?wt:n===2?this.window.height:1;t*=r,o*=c,t*=this.options.wheelMultiplier,o*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:o,event:e})});g(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,oe),this.element.addEventListener("touchstart",this.onTouchStart,oe),this.element.addEventListener("touchmove",this.onTouchMove,oe),this.element.addEventListener("touchend",this.onTouchEnd,oe)}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,oe),this.element.removeEventListener("touchstart",this.onTouchStart,oe),this.element.removeEventListener("touchmove",this.onTouchMove,oe),this.element.removeEventListener("touchend",this.onTouchEnd,oe)}},bt=e=>Math.min(1,1.001-Math.pow(2,-10*e)),it=class{constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:o=e,smoothWheel:n=!0,syncTouch:r=!1,syncTouchLerp:c=.075,touchInertiaExponent:a=1.7,duration:d,easing:f,lerp:u=.1,infinite:w=!1,orientation:T="vertical",gestureOrientation:p=T==="horizontal"?"both":"vertical",touchMultiplier:b=1,wheelMultiplier:S=1,autoResize:O=!0,prevent:I,virtualScroll:x,overscroll:P=!0,autoRaf:N=!1,anchors:q=!1,autoToggle:B=!1,allowNestedScroll:k=!1,__experimental__naiveDimensions:H=!1}={}){g(this,"_isScrolling",!1);g(this,"_isStopped",!1);g(this,"_isLocked",!1);g(this,"_preventNextNativeScrollEvent",!1);g(this,"_resetVelocityTimeout",null);g(this,"__rafID",null);g(this,"isTouching");g(this,"time",0);g(this,"userData",{});g(this,"lastVelocity",0);g(this,"velocity",0);g(this,"direction",0);g(this,"options");g(this,"targetScroll");g(this,"animatedScroll");g(this,"animate",new bo);g(this,"emitter",new Et);g(this,"dimensions");g(this,"virtualScroll");g(this,"onScrollEnd",e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()});g(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});g(this,"onTransitionEnd",e=>{if(e.propertyName.includes("overflow")){let t=this.isHorizontal?"overflow-x":"overflow-y",o=getComputedStyle(this.rootElement)[t];["hidden","clip"].includes(o)?this.internalStop():this.internalStart()}});g(this,"onClick",e=>{let o=e.composedPath().find(n=>{var r;return n instanceof HTMLAnchorElement&&((r=n.getAttribute("href"))==null?void 0:r.includes("#"))});if(o){let n=o.getAttribute("href");if(n){let r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,c=`#${n.split("#")[1]}`;this.scrollTo(c,r)}}});g(this,"onPointerDown",e=>{e.button===1&&this.reset()});g(this,"onVirtualScroll",e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;let{deltaX:t,deltaY:o,event:n}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:o,event:n}),n.ctrlKey||n.lenisStopPropagation)return;let r=n.type.includes("touch"),c=n.type.includes("wheel");this.isTouching=n.type==="touchstart"||n.type==="touchmove";let a=t===0&&o===0;if(this.options.syncTouch&&r&&n.type==="touchstart"&&a&&!this.isStopped&&!this.isLocked){this.reset();return}let f=this.options.gestureOrientation==="vertical"&&o===0||this.options.gestureOrientation==="horizontal"&&t===0;if(a||f)return;let u=n.composedPath();u=u.slice(0,u.indexOf(this.rootElement));let w=this.options.prevent;if(u.find(I=>{var x,P,N;return I instanceof HTMLElement&&(typeof w=="function"&&(w==null?void 0:w(I))||((x=I.hasAttribute)==null?void 0:x.call(I,"data-lenis-prevent"))||r&&((P=I.hasAttribute)==null?void 0:P.call(I,"data-lenis-prevent-touch"))||c&&((N=I.hasAttribute)==null?void 0:N.call(I,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(I,{deltaX:t,deltaY:o}))}))return;if(this.isStopped||this.isLocked){n.cancelable&&n.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&c)){this.isScrolling="native",this.animate.stop(),n.lenisStopPropagation=!0;return}let p=o;this.options.gestureOrientation==="both"?p=Math.abs(o)>Math.abs(t)?o:t:this.options.gestureOrientation==="horizontal"&&(p=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&o>0||this.animatedScroll===this.limit&&o<0))&&(n.lenisStopPropagation=!0),n.cancelable&&n.preventDefault();let b=r&&this.options.syncTouch,O=r&&n.type==="touchend";O&&(p=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+p,{programmatic:!1,...b?{lerp:O?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});g(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});g(this,"raf",e=>{let t=e-(this.time||e);this.time=e,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=go,(!e||e===document.documentElement)&&(e=window),typeof d=="number"&&typeof f!="function"?f=bt:typeof f=="function"&&typeof d!="number"&&(d=1),this.options={wrapper:e,content:t,eventsTarget:o,smoothWheel:n,syncTouch:r,syncTouchLerp:c,touchInertiaExponent:a,duration:d,easing:f,lerp:u,infinite:w,gestureOrientation:p,orientation:T,touchMultiplier:b,wheelMultiplier:S,autoResize:O,prevent:I,virtualScroll:x,overscroll:P,autoRaf:N,anchors:q,autoToggle:B,allowNestedScroll:k,__experimental__naiveDimensions:H},this.dimensions=new Eo(e,t,{autoResize:O}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Lo(o,{touchMultiplier:b,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(e,{offset:t=0,immediate:o=!1,lock:n=!1,duration:r=this.options.duration,easing:c=this.options.easing,lerp:a=this.options.lerp,onStart:d,onComplete:f,force:u=!1,programmatic:w=!0,userData:T}={}){if(!((this.isStopped||this.isLocked)&&!u)){if(typeof e=="string"&&["top","left","start","#"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let p;if(typeof e=="string"?(p=document.querySelector(e),p||(e==="#top"?e=0:console.warn("Lenis: Target not found",e))):e instanceof HTMLElement&&(e!=null&&e.nodeType)&&(p=e),p){if(this.options.wrapper!==window){let S=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?S.left:S.top}let b=p.getBoundingClientRect();e=(this.isHorizontal?b.left:b.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite){if(w){this.targetScroll=this.animatedScroll=this.scroll;let p=e-this.animatedScroll;p>this.limit/2?e=e-this.limit:p<-this.limit/2&&(e=e+this.limit)}}else e=St(0,e,this.limit);if(e===this.targetScroll){d==null||d(this),f==null||f(this);return}if(this.userData=T!=null?T:{},o){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),f==null||f(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}w||(this.targetScroll=e),typeof r=="number"&&typeof c!="function"?c=bt:typeof c=="function"&&typeof r!="number"&&(r=1),this.animate.fromTo(this.animatedScroll,e,{duration:r,easing:c,lerp:a,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",d==null||d(this)},onUpdate:(p,b)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=p-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=p,this.setScroll(this.scroll),w&&(this.targetScroll=p),b||this.emit(),b&&(this.reset(),this.emit(),f==null||f(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:t,deltaY:o}){var B,k;let n=Date.now(),r=(B=e._lenis)!=null?B:e._lenis={},c,a,d,f,u,w,T,p,b=this.options.gestureOrientation;if(n-((k=r.time)!=null?k:0)>2e3){r.time=Date.now();let H=window.getComputedStyle(e);r.computedStyle=H;let ie=H.overflowX,fe=H.overflowY;if(c=["auto","overlay","scroll"].includes(ie),a=["auto","overlay","scroll"].includes(fe),r.hasOverflowX=c,r.hasOverflowY=a,!c&&!a||b==="vertical"&&!a||b==="horizontal"&&!c)return!1;u=e.scrollWidth,w=e.scrollHeight,T=e.clientWidth,p=e.clientHeight,d=u>T,f=w>p,r.isScrollableX=d,r.isScrollableY=f,r.scrollWidth=u,r.scrollHeight=w,r.clientWidth=T,r.clientHeight=p}else d=r.isScrollableX,f=r.isScrollableY,c=r.hasOverflowX,a=r.hasOverflowY,u=r.scrollWidth,w=r.scrollHeight,T=r.clientWidth,p=r.clientHeight;if(!c&&!a||!d&&!f||b==="vertical"&&(!a||!f)||b==="horizontal"&&(!c||!d))return!1;let S;if(b==="horizontal")S="x";else if(b==="vertical")S="y";else{let H=t!==0,ie=o!==0;H&&c&&d&&(S="x"),ie&&a&&f&&(S="y")}if(!S)return!1;let O,I,x,P,N;if(S==="x")O=e.scrollLeft,I=u-T,x=t,P=c,N=d;else if(S==="y")O=e.scrollTop,I=w-p,x=o,P=a,N=f;else return!1;return(x>0?O<I:O>0)&&P&&N}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){var t,o;let e=this.options.wrapper;return this.isHorizontal?(t=e.scrollX)!=null?t:e.scrollLeft:(o=e.scrollY)!=null?o:e.scrollTop}get scroll(){return this.options.infinite?wo(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};console.log("[SMOOTH-SCROLL] Module loaded");var K=null;function Lt(e={}){var r,c;if(K)return console.log("[SMOOTH-SCROLL] Already initialized"),K;if(document.querySelector(".perspective-wrapper")!==null&&!e.forceEnableOnSnap)return console.log("[SMOOTH-SCROLL] \u26A0\uFE0F Skipped - page has scroll-snap container"),console.log("[SMOOTH-SCROLL] Using native scrolling for optimal snap behavior"),null;let o=(r=e.lerp)!=null?r:.08,n={lerp:o,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:(c=e.infinite)!=null?c:!1,...e};try{let a=function(d){K.raf(d),requestAnimationFrame(a)};return K=new it(n),requestAnimationFrame(a),window.gsap&&window.ScrollTrigger&&(K.on("scroll",ScrollTrigger.update),window.gsap.ticker.add(d=>{K.raf(d*1e3)}),window.gsap.ticker.lagSmoothing(0)),window.App=window.App||{},window.App.smoothScroll={stop:()=>K.stop(),start:()=>K.start(),instance:K},console.log(`[SMOOTH-SCROLL] \u2713 Initialized with momentum scrolling (lerp: ${o})`),K}catch(a){return console.error("[SMOOTH-SCROLL] \u274C Init error:",a),null}}function Tt(e,t={}){var a;let o=typeof e=="string"?document.querySelector(e):e;if(!o)return console.warn(`[SMOOTH-SCROLL] Container not found: ${e}`),null;let n=(a=t.lerp)!=null?a:.08,r=t.content?typeof t.content=="string"?o.querySelector(t.content):t.content:o.children.length>0?o.children[0]:o,c={wrapper:o,content:r,lerp:n,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:!1,...t};delete c.wrapper,delete c.content;try{let f=function(u){d.raf(u),requestAnimationFrame(f)},d=new it({wrapper:o,content:r,...c});return requestAnimationFrame(f),window.gsap&&window.ScrollTrigger&&d.on("scroll",ScrollTrigger.update),console.log(`[SMOOTH-SCROLL] \u2713 Container scroll initialized for ${typeof e=="string"?e:o.className||"element"}`),d}catch(d){return console.error("[SMOOTH-SCROLL] \u274C Container scroll init error:",d),null}}console.log("[LIGHTBOX] Module loaded");var R={IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},_=R.IDLE,de=null,_e=null,ue=null,U=!1;function It({root:e="#lightbox",openDuration:t=1500,closeDuration:o=1500}={}){var D,M,V,se,ee,le;let n=document.querySelector(e);if(!n){console.log("[LIGHTBOX] \u274C Element not found");return}let r=n.querySelector(".lightbox__inner"),c=n.querySelector(".video-area"),a=n.querySelector(".lightbox__overlay"),d=document.querySelector("#close-btn"),f=document.querySelector("#details-btn"),u=document.querySelectorAll(".slide"),w=matchMedia("(prefers-reduced-motion: reduce)").matches,T=document.querySelector("#lightbox-client"),p=document.querySelector("#lightbox-title"),b=document.querySelector("#lightbox-truth"),S=document.querySelector("#lightbox-truthwelltold"),O=document.querySelector("#lightbox-description"),I=document.querySelector("#lightbox-impact"),x=document.querySelector("#lightbox-awards");n.style.display="none",n.style.pointerEvents="none",n.setAttribute("role",n.getAttribute("role")||"dialog"),n.setAttribute("aria-modal",n.getAttribute("aria-modal")||"true"),n.setAttribute("aria-hidden","true"),n.setAttribute("data-state",R.IDLE),We({delayMs:0}),document.body.classList.remove("modal-open","preloader-active"),document.body.style.overflow="";let P=document.querySelector(".perspective-wrapper");P&&(P.classList.remove("modal-open"),P.style.overflow=""),de=((V=(M=(D=window.App)==null?void 0:D.slides)==null?void 0:M.getProjectData)==null?void 0:V.call(M))||me;let N=Object.keys(de).length,q=(ee=(se=window.App)==null?void 0:se.slides)!=null&&ee.getProjectData?"slides module":"bundled JSON";console.log(`[LIGHTBOX] \u2713 Loaded ${N} project${N!==1?"s":""} from ${q}`),console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),console.log("\u{1F50D} LIGHTBOX SETUP VALIDATION"),console.log(`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`);let B=[],k=[];if(console.log("1\uFE0F\u20E3  Main Container & Structure"),console.log(`   \u2713 Found: ${e}`),console.log(`   \u2713 State machine initialized: ${_}`),console.log(`   \u23F1\uFE0F  Open duration: ${t}ms (must match Webflow 'lb:show' animation)`),console.log(`   \u23F1\uFE0F  Close duration: ${o}ms (must match Webflow 'lb:hide' animation)`),r?console.log("   \u2713 .lightbox__inner found"):(console.log("   \u274C .lightbox__inner NOT found"),B.push(".lightbox__inner missing")),a?console.log("   \u2713 .lightbox__overlay found (smooth scroll container)"):(console.log("   \u26A0\uFE0F  .lightbox__overlay NOT found (smooth scroll will be skipped)"),k.push(".lightbox__overlay missing")),c?console.log("   \u2713 .video-area found"):(console.log("   \u274C .video-area NOT found"),B.push(".video-area missing")),console.log(`
2\uFE0F\u20E3  Content Injection Targets`),[{el:T,id:"#lightbox-client",required:!0},{el:p,id:"#lightbox-title",required:!0},{el:b,id:"#lightbox-truth",required:!1},{el:S,id:"#lightbox-truthwelltold",required:!1},{el:O,id:"#lightbox-description",required:!0},{el:I,id:"#lightbox-impact",required:!1},{el:x,id:"#lightbox-awards",required:!0}].forEach(({el:l,id:m,required:L})=>{l?console.log(`   \u2713 ${m}`):L?(console.log(`   \u274C ${m} NOT found (REQUIRED)`),B.push(`${m} missing`)):(console.log(`   \u26A0\uFE0F  ${m} NOT found (optional)`),k.push(`${m} missing`))}),console.log(`
3\uFE0F\u20E3  Interactive Elements`),d?console.log("   \u2713 #close-btn found"):(console.log("   \u274C #close-btn NOT found"),B.push("#close-btn missing")),console.log(`
4\uFE0F\u20E3  Slide Triggers & Links`),console.log(`   ${u.length>0?"\u2713":"\u274C"} Found: ${u.length} .slide element${u.length!==1?"s":""}`),u.length===0)B.push("No .slide elements found");else{let l=0,m=[];u.forEach((L,$)=>{L.querySelector(".slide__link")?l++:m.push($)}),console.log(`   ${l===u.length?"\u2713":"\u26A0\uFE0F"} ${l}/${u.length} slides have .slide__link`),m.length>0&&(console.log(`   \u26A0\uFE0F  Missing .slide__link in slide indices: ${m.join(", ")}`),k.push(`${m.length} slides missing .slide__link`))}if(fe(),console.log(`
5\uFE0F\u20E3  Webflow IX Setup`),window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null){let l=window.Webflow.require("ix3")?"IX3":"IX2";console.log(`   \u2713 Webflow ${l} detected`)}else console.log("   \u26A0\uFE0F  Webflow IX NOT detected"),k.push("Webflow IX not detected");console.log(`
   \u{1F4CB} Required Custom Events in Webflow:`),console.log('      \u2022 "lb:show" \u2192 triggers open animation'),console.log('      \u2022 "lb:hide" \u2192 triggers close animation'),console.log(`      \u2022 Durations MUST match: open=${t}ms, close=${o}ms`),console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),B.length>0?(console.log("\u274C VALIDATION FAILED"),console.log(`   ${B.length} critical error${B.length!==1?"s":""}:`),B.forEach(l=>console.log(`   \u2022 ${l}`))):console.log("\u2705 VALIDATION COMPLETE - All critical elements found"),k.length>0&&(console.log(`
\u26A0\uFE0F  ${k.length} warning${k.length!==1?"s":""}:`),k.forEach(l=>console.log(`   \u2022 ${l}`))),console.log("");function fe(){if(!de)return;let l=0,m=[];u.forEach((L,$)=>{let z=L.dataset.project;if(!z)m.push(`Slide ${$}: missing data-project attribute`);else if(!de[z])m.push(`Slide ${$}: project ID "${z}" not found in JSON`);else{let W=de[z];(!W.vimeoId||W.vimeoId==="000000000")&&m.push(`Slide ${$} (${z}): missing or invalid vimeoId`),(!W.vimeoPreviewId||W.vimeoPreviewId==="000000000")&&m.push(`Slide ${$} (${z}): missing or invalid vimeoPreviewId`),l++}}),console.log(`[LIGHTBOX] \u2713 Valid slides: ${l}/${u.length}`),m.length>0&&(console.warn("[LIGHTBOX] \u26A0\uFE0F  Issues found:"),m.forEach(L=>console.warn(`   - ${L}`)))}function X(l){try{if(window.Webflow&&window.Webflow.require){let m=window.Webflow.require("ix3")||window.Webflow.require("ix2");m&&typeof m.emit=="function"?(m.emit(l),console.log(`\u{1F3AC} [LIGHTBOX] Triggered animation: "${l}"`)):console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${l}" - wfIx.emit not available`)}else console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${l}" - Webflow IX not available`)}catch(m){console.error(`\u274C [LIGHTBOX] Error emitting "${l}":`,m)}window.dispatchEvent(new CustomEvent(l))}function Z(l){Array.from(document.body.children).filter(L=>L!==n).forEach(L=>{try{"inert"in L&&(L.inert=!!l)}catch{}l?L.setAttribute("aria-hidden","true"):L.removeAttribute("aria-hidden")})}function pe(l){if(l.key!=="Tab")return;let m=n.querySelectorAll(["a[href]","button","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(",")),L=Array.from(m).filter(W=>!W.hasAttribute("disabled")&&!W.getAttribute("aria-hidden"));if(L.length===0){l.preventDefault(),(r||n).focus();return}let $=L[0],z=L[L.length-1];l.shiftKey&&document.activeElement===$?(l.preventDefault(),z.focus()):!l.shiftKey&&document.activeElement===z&&(l.preventDefault(),$.focus())}function Oe(l){return de[l]?de[l]:(console.error(`[LIGHTBOX] \u274C Project "${l}" not found in JSON`),null)}function ve(l){if(console.log(`[LIGHTBOX] \u{1F3C6} Rendering awards: ${(l==null?void 0:l.length)||0} awards`),document.querySelectorAll('[id^="award-"]').forEach(L=>{L.style.display="none"}),!l||l.length===0){console.log("[LIGHTBOX] No awards to display");return}l.forEach((L,$)=>{let z=document.getElementById(`award-${L.type}`);if(!z){console.warn(`[LIGHTBOX] \u26A0\uFE0F  Award element #award-${L.type} not found in DOM`);return}z.style.display="flex";let W=z.querySelector(".award__label");W?W.textContent=L.label||"":console.warn(`[LIGHTBOX] \u26A0\uFE0F  Label element not found for #award-${L.type}`),console.log(`[LIGHTBOX] \u2713 Award ${$+1}: ${L.type} displayed`)})}async function ct(l){if(!l||l.length===0)return;console.log(`[LIGHTBOX] \u23F3 Loading ${l.length} images...`);let m=l.map(L=>new Promise(($,z)=>{let W=new Image;W.onload=()=>{W.decode().then(()=>$()).catch(()=>$())},W.onerror=()=>{console.warn(`[LIGHTBOX] \u26A0\uFE0F  Failed to load image: ${L}`),$()},W.src=L}));await Promise.all(m),console.log("[LIGHTBOX] \u2713 All images loaded")}async function Ae(l){console.log(`[LIGHTBOX] \u{1F4DD} Injecting content for: ${l.title}`),T&&(T.textContent=l.client||""),p&&(p.textContent=l.title||""),b&&(b.textContent=l.truth||""),S&&(S.textContent=l.truthWellTold||""),O&&(O.textContent=l.description||""),I&&(I.textContent=l.impact||""),ve(l.awards||[]),c&&(!l.vimeoId||l.vimeoId==="000000000"?console.error(`[LIGHTBOX] \u274C Missing or invalid vimeoId for project "${(l==null?void 0:l.title)||"unknown"}"`):$e(c,l.vimeoId,{query:{autoplay:1,muted:0,controls:1,autopause:1,playsinline:1,dnt:1},startAt:1,playOnReady:!0,unmuteOnStart:!0})),console.log("[LIGHTBOX] \u2713 Content injected")}function j(l){_=l,n.setAttribute("data-state",l),console.log(`[LIGHTBOX] State: ${l}`)}function Ce(){u.forEach(l=>{let m=l.querySelector(".slide__link");m&&(m.classList.add("is-disabled"),m.setAttribute("aria-disabled","true"),m.style.pointerEvents="none")}),console.log("[LIGHTBOX] \u{1F6AB} Slide links disabled")}function we(){u.forEach(l=>{let m=l.querySelector(".slide__link");m&&(m.classList.remove("is-disabled"),m.removeAttribute("aria-disabled"),m.style.pointerEvents="")}),console.log("[LIGHTBOX] \u2713 Slide links re-enabled")}async function xe(l){var $,z,W;if(_!==R.IDLE){console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot open - already opening/open/closing");return}let m=($=l==null?void 0:l.dataset)==null?void 0:$.project;if(!m){console.error("[LIGHTBOX] \u274C Slide missing data-project attribute");return}let L=Oe(m);if(!L){console.error(`[LIGHTBOX] \u274C Project "${m}" not found in JSON`);return}j(R.OPENING),Ce(),_e=document.activeElement instanceof HTMLElement?document.activeElement:null;try{await Ae(L),Z(!0),vt(),(W=(z=window.App)==null?void 0:z.smoothScroll)!=null&&W.stop&&window.App.smoothScroll.stop(),n.setAttribute("aria-hidden","false"),n.style.pointerEvents="auto",X("lb:show"),setTimeout(()=>{Ne()},t),Y("LIGHTBOX_OPEN",n,L)}catch(Xt){console.error("[LIGHTBOX] \u274C Error opening:",Xt),j(R.IDLE),we()}}function Ne(){console.log("[LIGHTBOX] \u2713 Open animation complete"),j(R.OPEN),a&&(a.style.pointerEvents=U?"auto":"none",a.style.overflow="auto",requestAnimationFrame(()=>{ue=Tt(a,{lerp:.08,smoothWheel:!0,smoothTouch:!1})})),n.setAttribute("tabindex","-1"),requestAnimationFrame(()=>{(r||n).focus()}),Y("LIGHTBOX_OPENED",n)}function ne(){if(_!==R.OPEN){console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot close - not open");return}j(R.CLOSING),Y("LIGHTBOX_CLOSE",n),X("lb:hide"),setTimeout(()=>{Pe()},w?0:o)}function Pe(){var l,m;if(console.log("[LIGHTBOX] \u2713 Close animation complete"),n.setAttribute("aria-hidden","true"),Z(!1),ue)try{ue.destroy(),ue=null,console.log("[LIGHTBOX] \u2713 Overlay smooth scroll destroyed")}catch(L){console.warn("[LIGHTBOX] Error destroying overlay scroll:",L)}We({delayMs:0}),console.log("[LIGHTBOX] \u2713 Scroll unlocked"),(m=(l=window.App)==null?void 0:l.smoothScroll)!=null&&m.start&&requestAnimationFrame(()=>{window.App.smoothScroll.start(),console.log("[LIGHTBOX] \u2713 Main smooth scroll restarted")}),we(),c&&(c.innerHTML=""),ve([]),T&&(T.textContent=""),p&&(p.textContent=""),b&&(b.textContent=""),S&&(S.textContent=""),O&&(O.textContent=""),I&&(I.textContent=""),U&&Q({silent:!0}),n.style.display="none",n.style.pointerEvents="none",_e&&document.body.contains(_e)&&_e.focus(),j(R.IDLE),Y("LIGHTBOX_CLOSED",n)}let re=(le=u[0])==null?void 0:le.parentElement;function ke(l){let m=l.target.closest(".slide__link");if(!m)return;if(_!==R.IDLE){l.preventDefault(),l.stopPropagation();return}let L=m.closest(".slide");if(!L){console.warn("[LIGHTBOX] \u26A0\uFE0F  .slide__link found but parent .slide missing");return}l.preventDefault(),l.stopPropagation(),xe(L)}function be(l){l.preventDefault(),l.stopPropagation(),_===R.OPEN&&(console.log("[LIGHTBOX] \u{1F3AF} Close button clicked"),ne())}function De(l){_===R.OPEN&&(l.key==="Escape"&&(U?(console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed - closing details overlay"),Q()):(console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed - closing lightbox"),ne())),l.key==="Tab"&&pe(l))}function Me(){U||_!==R.OPEN||(U=!0,console.log("[LIGHTBOX] \u{1F3AF} Details overlay opening"),X("details:show"),requestAnimationFrame(()=>{a&&(a.style.pointerEvents="auto",a.style.overflow="auto"),n&&(n.style.pointerEvents="auto")}))}function Q({silent:l=!1}={}){U&&(U=!1,console.log("[LIGHTBOX] \u{1F3AF} Details overlay closing"),l||X("details:hide"),requestAnimationFrame(()=>{a&&(a.style.pointerEvents="none"),n&&(n.style.pointerEvents="auto")}))}function Se(l){if(l.preventDefault(),l.stopPropagation(),_!==R.OPEN){console.log("[LIGHTBOX] \u26A0\uFE0F  Details button clicked but lightbox not open");return}U?Q():Me()}function i(l){!U||_!==R.OPEN||(console.log("[LIGHTBOX] \u{1F50D} Overlay click while details open:",{tag:l.target.tagName,id:l.target.id,classes:(l.target.className||"").toString().substring(0,80)}),Q())}function h(l){!U||_!==R.OPEN||(console.log("[LIGHTBOX] \u{1F50D} Lightbox click while details open"),Q())}re?(re.addEventListener("click",ke,{passive:!1}),console.log(`[LIGHTBOX] \u2713 Delegated click handler attached to container (${u.length} slides)`)):console.warn("[LIGHTBOX] \u26A0\uFE0F  Could not find slides container for event delegation"),d?d.addEventListener("click",be):console.warn("[LIGHTBOX] \u26A0\uFE0F  #close-btn not found - only Escape key will close"),f?(f.addEventListener("click",Se,{passive:!1}),console.log("[LIGHTBOX] \u2713 Details button handler attached")):console.warn("[LIGHTBOX] \u26A0\uFE0F  Details button (#details-btn) not found"),a?(a.style.pointerEvents="none",a.addEventListener("click",i,{passive:!1}),console.log("[LIGHTBOX] \u2713 Overlay click handler attached (click anywhere to close details)")):console.warn("[LIGHTBOX] \u26A0\uFE0F  Overlay not found - details close-on-click disabled"),n.addEventListener("click",h,{passive:!1}),console.log("[LIGHTBOX] \u2713 Lightbox container click handler attached"),document.addEventListener("keydown",De),console.log(`[LIGHTBOX] \u2713 Initialized and ready
`);function E(){if(re&&re.removeEventListener("click",ke),d&&d.removeEventListener("click",be),f&&f.removeEventListener("click",Se),a&&(a.removeEventListener("click",i),a.style.pointerEvents="none"),n.removeEventListener("click",h),document.removeEventListener("keydown",De),U=!1,ue)try{ue.destroy(),ue=null}catch(l){console.warn("[LIGHTBOX] Error destroying overlay scroll on cleanup:",l)}We({delayMs:0}),Z(!1),we(),_=R.IDLE,console.log("[LIGHTBOX] \u2713 Cleanup complete")}function C(l){let m=Array.from(u).find(L=>L.dataset.project===l);return m?(xe(m),!0):(console.error(`[LIGHTBOX] \u274C No slide found for project: "${l}"`),!1)}function A(){return{current:_,isIdle:_===R.IDLE,isOpen:_===R.OPEN,isTransitioning:_===R.OPENING||_===R.CLOSING}}window.App=window.App||{},window.App.lightbox={open:C,close:ne,getState:A,cleanup:E}}console.log("[WEBFLOW] module loaded");function Ot(e={}){let t=e.scrollerSelector||".perspective-wrapper",o=e.hideEventName||e.shrinkEventName||"logo-hide",n=e.appearEventName||e.growEventName||"logo-appear",r=!!e.markers;function c(a){if(document.readyState==="complete"){setTimeout(a,0);return}window.addEventListener("load",a,{once:!0})}c(function(){(window.Webflow||[]).push(function(){let d=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null,f=window.ScrollTrigger;if(!d||!f)return;let u=document.querySelector(t);if(!u)return;let w=document.querySelector("#intro-slide");if(!w){console.error("[WEBFLOW] Driver slide (#intro-slide) not found");return}console.log("[WEBFLOW] Setup complete:",{scroller:!!u,driver:!!w,wfIx:!!d,ScrollTrigger:!!f,hideEvent:o,appearEvent:n});let T=!1;f.create({trigger:w,scroller:u,start:"bottom 20%",markers:r,onEnter:()=>{if(!T)try{console.log("[WEBFLOW] \u2713 emit appear:",n),d.emit(n),T=!0}catch(p){console.error("[WEBFLOW] Error emitting appear:",p)}}}),f.create({trigger:w,scroller:u,start:"bottom 20%",markers:r,onLeaveBack:()=>{if(T)try{console.log("[WEBFLOW] \u2713 emit hide:",o),d.emit(o),T=!1}catch(p){console.error("[WEBFLOW] Error emitting hide:",p)}}}),console.log("[WEBFLOW] ScrollTrigger initialized"),requestAnimationFrame(()=>{f.refresh()})})})}console.log("[SLIDES-INTERACTION] Module loaded");var xt={containerSelector:".perspective-wrapper",slideSelector:".slide",linkSelector:".slide__link",dragCursor:"grab",grabbingCursor:"grabbing"},Ct,s={container:null,scroller:null,slides:[],activeIndex:0,options:{...xt},initialized:!1,pointer:{isDragging:!1,pointerId:null,lastClientY:0,currentClientY:0,rafId:0,previousUserSelect:"",previousBodyCursor:""},scrollRaf:0,prefersReduced:typeof window!="undefined"?((Ct=window.matchMedia)==null?void 0:Ct.call(window,"(prefers-reduced-motion: reduce)").matches)===!0:!1};function Nt(e={}){if(s.options={...xt,...e},s.initialized)return console.log("[SLIDES-INTERACTION] \u26A0\uFE0F Already initialized \u2192 refreshing slides"),qe(),At();let t=document.querySelector(s.options.containerSelector);return t?(s.container=t,s.scroller=No(t),s.initialized=!0,s.container.hasAttribute("tabindex")||s.container.setAttribute("tabindex","-1"),s.container.classList.add("slides-interaction--enabled"),st(s.options.dragCursor),To(),qe(),window.App=window.App||{},window.App.slidesInteraction=At(),console.log("[SLIDES-INTERACTION] \u2713 Initialized (drag + keyboard active)"),window.App.slidesInteraction):(console.log("[SLIDES-INTERACTION] \u274C Container not found:",s.options.containerSelector),null)}function To(){if(!s.container)return;let e=_t();e==null||e.addEventListener("scroll",$t,{passive:!0}),s.container.addEventListener("pointerdown",Pt),s.container.addEventListener("pointerup",Dt),s.container.addEventListener("pointercancel",Ve),s.container.addEventListener("lostpointercapture",Ve),s.container.addEventListener("pointermove",kt,{passive:!1}),s.container.addEventListener("dragstart",Rt),window.addEventListener("keydown",Bt,!0),window.addEventListener("blur",Mt),window.addEventListener("slides:built",Wt)}function Io(){if(!s.container)return;let e=_t();e==null||e.removeEventListener("scroll",$t),s.container.removeEventListener("pointerdown",Pt),s.container.removeEventListener("pointerup",Dt),s.container.removeEventListener("pointercancel",Ve),s.container.removeEventListener("lostpointercapture",Ve),s.container.removeEventListener("pointermove",kt),s.container.removeEventListener("dragstart",Rt),window.removeEventListener("keydown",Bt,!0),window.removeEventListener("blur",Mt),window.removeEventListener("slides:built",Wt)}function qe(){if(!s.container)return;if(s.slides=Array.from(s.container.querySelectorAll(s.options.slideSelector)),s.slides.length===0){console.log("[SLIDES-INTERACTION] \u26A0\uFE0F No slides found, waiting for rebuild");return}s.slides.forEach((t,o)=>{t.dataset.slideIndex=o,t.setAttribute("aria-setsize",s.slides.length),t.setAttribute("aria-posinset",o+1),t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"),t.classList.remove("is-active"),t.removeAttribute("aria-current")});let e=rt(s.activeIndex);nt(e,{force:!0,silent:!0}),Ht({force:!0}),console.log(`[SLIDES-INTERACTION] \u2713 Bound ${s.slides.length} slide${s.slides.length!==1?"s":""}`)}function Pt(e){if(s.container&&e.pointerType==="mouse"&&e.button===0){s.pointer.isDragging=!0,s.pointer.pointerId=e.pointerId,s.pointer.lastClientY=e.clientY,s.pointer.currentClientY=e.clientY,s.pointer.previousUserSelect=document.body.style.userSelect;try{s.container.setPointerCapture(e.pointerId)}catch{}document.body.style.userSelect="none",!s.pointer.previousBodyCursor&&typeof document!="undefined"&&document.body&&(s.pointer.previousBodyCursor=document.body.style.cursor||""),document.body.classList.add("slides-interaction--grabbing"),s.container.classList.add("slides-interaction--grabbing"),st(s.options.grabbingCursor),Y("slides:drag-start",s.container,{pointerType:e.pointerType}),e.preventDefault()}}function kt(e){s.pointer.isDragging&&e.pointerId===s.pointer.pointerId&&(s.pointer.currentClientY=e.clientY,s.pointer.rafId||(s.pointer.rafId=requestAnimationFrame(Oo)),e.preventDefault())}function Oo(){if(s.pointer.rafId=0,!s.container)return;let e=s.pointer.currentClientY-s.pointer.lastClientY;e!==0&&(Do(e),s.pointer.lastClientY=s.pointer.currentClientY)}function Dt(e){e.pointerId===s.pointer.pointerId&&Xe()}function Ve(){s.pointer.isDragging&&Xe()}function Xe(){var e,t;if(s.pointer.isDragging){qt(s.pointer.rafId),s.pointer.rafId=0;try{s.pointer.pointerId!==null&&((e=s.container)==null||e.releasePointerCapture(s.pointer.pointerId))}catch{}document.body.style.userSelect=s.pointer.previousUserSelect||"",document.body.classList.remove("slides-interaction--grabbing"),(t=s.container)==null||t.classList.remove("slides-interaction--grabbing"),st(s.options.dragCursor),Y("slides:drag-end",s.container),s.pointer.isDragging=!1,s.pointer.pointerId=null}}function Mt(){s.pointer.isDragging&&Xe()}function Rt(e){e.preventDefault()}function Bt(e){if(!s.container||e.defaultPrevented||e.metaKey||e.ctrlKey||e.altKey)return;let t=e.target;if(!Ao(t)&&!Bo())switch(e.key){case"ArrowDown":case"PageDown":e.preventDefault(),Fe(1);break;case"ArrowUp":case"PageUp":e.preventDefault(),Fe(-1);break;case"Home":e.preventDefault(),Ge(0);break;case"End":e.preventDefault(),Ge(s.slides.length-1);break;case"Enter":if(t instanceof HTMLElement&&t.closest(s.options.linkSelector))return;e.preventDefault(),Co();break;default:break}}function Ao(e){if(!(e instanceof HTMLElement))return!1;let t=e.tagName.toLowerCase();return t==="input"||t==="textarea"||t==="select"||e.isContentEditable?!0:s.container.contains(e)?!1:e!==document.body}function Co(){let e=zt();if(!e){console.log("[SLIDES-INTERACTION] \u26A0\uFE0F Enter pressed but no active slide");return}let t=e.querySelector(s.options.linkSelector);if(t&&typeof t.click=="function"){console.log(`[SLIDES-INTERACTION] \u{1F3AF} Opening project via Enter (${e.dataset.project||"unknown"})`),t.click();return}e.click()}function $t(){s.scrollRaf||(s.scrollRaf=requestAnimationFrame(()=>{s.scrollRaf=0,Ht()}))}function Ht({force:e=!1}={}){if(!s.container||s.slides.length===0)return;let t=s.container.getBoundingClientRect(),o=t.top+t.height*.5,n=s.activeIndex,r=e?Number.POSITIVE_INFINITY:Math.abs(xo(s.activeIndex)-o);s.slides.forEach((c,a)=>{let d=c.getBoundingClientRect();if(d.height===0)return;let f=d.top+d.height*.5,u=Math.abs(f-o);u<r&&(r=u,n=a)}),nt(n,{silent:!e&&n===s.activeIndex})}function nt(e,{focus:t=!1,silent:o=!1,force:n=!1}={}){if(s.slides.length===0)return;let r=rt(e);if(!n&&r===s.activeIndex)return;let c=s.slides[s.activeIndex];c&&(c.classList.remove("is-active"),c.removeAttribute("aria-current"));let a=s.slides[r];a&&(a.classList.add("is-active"),a.setAttribute("aria-current","true"),t&&requestAnimationFrame(()=>{if(typeof a.focus=="function")try{a.focus({preventScroll:!0})}catch{a.focus()}})),s.activeIndex=r,!o&&a&&Y("slides:active-change",s.container,{index:r,total:s.slides.length,slide:a})}function Ge(e,{focus:t=!1}={}){if(!s.container||s.slides.length===0)return;let o=rt(e),n=s.slides[o];if(!n)return;let r=s.prefersReduced?"auto":"smooth",c=s.container.getBoundingClientRect(),a=n.getBoundingClientRect(),f=ko()+(a.top-c.top);nt(o,{focus:t,silent:!1,force:!0}),Mo(f,r)}function Fe(e){e!==0&&Ge(s.activeIndex+e,{focus:!0})}function xo(e){let t=s.slides[e];if(!t)return Number.POSITIVE_INFINITY;let o=t.getBoundingClientRect();return o.top+o.height*.5}function zt(){return s.slides[s.activeIndex]||null}function Wt(){requestAnimationFrame(qe)}function rt(e){return s.slides.length===0?0:Math.min(Math.max(e,0),s.slides.length-1)}function No(e){if(typeof document=="undefined"||typeof window=="undefined"||e&&Po(e))return e;let t=document.scrollingElement||document.documentElement||document.body||null;return t&&t!==e&&console.log("[SLIDES-INTERACTION] \u{1F3AF} Scroll driver set to document.scrollingElement"),t||e}function Po(e){if(!e||typeof window=="undefined")return!1;let t=window.getComputedStyle(e),o=(t==null?void 0:t.overflowY)||"visible";return/(auto|scroll|overlay)/.test(o)&&Math.abs(e.scrollHeight-e.clientHeight)>1}function _t(){return typeof window=="undefined"?null:s.scroller?ge(s.scroller)?window:s.scroller:s.container}function ge(e){if(typeof document=="undefined"||!e)return!1;let t=document.scrollingElement;return e===t||e===document.documentElement||e===document.body}function ko(){var e,t,o;return typeof window=="undefined"||typeof document=="undefined"||!s.scroller?0:ge(s.scroller)?(o=(t=(e=window.pageYOffset)!=null?e:document.documentElement.scrollTop)!=null?t:document.body.scrollTop)!=null?o:0:s.scroller.scrollTop}function Do(e){if(!(!s.scroller||typeof window=="undefined")){if(ge(s.scroller)){window.scrollBy({top:-e,behavior:"auto"});return}s.scroller.scrollTop-=e}}function Mo(e,t="auto"){if(!(!s.scroller||typeof window=="undefined")){if(ge(s.scroller)){window.scrollTo({top:e,behavior:t});return}s.scroller.scrollTo({top:e,behavior:t})}}function st(e){var t;s.container&&(s.container.style.cursor=e),ge(s.scroller)&&typeof document!="undefined"&&((t=document.body)==null||t.classList.add("slides-interaction--enabled"),!s.pointer.previousBodyCursor&&document.body&&(s.pointer.previousBodyCursor=document.body.style.cursor||""),document.body&&(document.body.style.cursor=e))}function qt(e){e&&cancelAnimationFrame(e)}function At(){return{refresh:qe,next:()=>Fe(1),prev:()=>Fe(-1),scrollTo:e=>Ge(e,{focus:!0}),getActiveIndex:()=>s.activeIndex,getActiveSlide:zt,cleanup:Ro}}function Ro(){var e,t;Io(),qt(s.scrollRaf),Xe(),(e=s.container)==null||e.classList.remove("slides-interaction--enabled","slides-interaction--grabbing"),s.container&&(s.container.style.cursor=""),ge(s.scroller)&&typeof document!="undefined"&&((t=document.body)==null||t.classList.remove("slides-interaction--enabled","slides-interaction--grabbing"),document.body&&(document.body.style.cursor=s.pointer.previousBodyCursor||"")),s.container=null,s.scroller=null,s.slides=[],s.activeIndex=0,s.initialized=!1,s.pointer.previousBodyCursor="",console.log("[SLIDES-INTERACTION] \u2713 Cleanup complete")}function Bo(){var e,t,o,n;try{return((n=(o=(t=(e=window.App)==null?void 0:e.lightbox)==null?void 0:t.getState)==null?void 0:o.call(t))==null?void 0:n.isOpen)===!0}catch{return!1}}console.log("[NAV-TRANSITION] Module loaded");var ye=null,he=!1,je=null,lt=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;function Vt({containerSelector:e=".nav",linkSelector:t="a.nav__link",transitionDelay:o=300}={}){if(console.log("[NAV-TRANSITION] Initializing..."),ye=document.querySelector(e),!ye){console.log("[NAV-TRANSITION] \u274C Navigation container not found");return}let n=ye.querySelectorAll(t);if(n.length===0){console.log("[NAV-TRANSITION] \u274C No navigation links found");return}console.log(`[NAV-TRANSITION] \u2713 Found ${n.length} navigation links`),ye.addEventListener("click",r=>Ho(r,t,o)),console.log("[NAV-TRANSITION] \u2713 Initialized")}function $o(e){if(!e||!e.href)return!1;let t=e.getAttribute("href")||"",o=e.href;if(!e.matches("a.nav__link")||t.startsWith("#")||t.startsWith("mailto:")||t.startsWith("tel:")||e.hasAttribute("download")||e.target==="_blank"||e.target==="_external")return!1;try{let c=new URL(o),a=new URL(window.location.href);if(c.origin!==a.origin)return!1}catch{return!1}let n=window.location.pathname+window.location.search,r=new URL(o).pathname+new URL(o).search;return!(n===r||e.hasAttribute("data-no-transition"))}function Gt(e,t={}){try{lt&&typeof lt.emit=="function"&&lt.emit(e)}catch(o){console.warn(`[NAV-TRANSITION] Cannot emit "${e}" to Webflow IX`,o)}window.dispatchEvent(new CustomEvent(e,{detail:t})),console.log(`[NAV-TRANSITION] \u{1F3AF} Emitted "${e}" event`,t)}async function Ho(e,t,o){let n=e.target.closest(t);if(!n||!$o(n))return;if(e.preventDefault(),he){console.log("[NAV-TRANSITION] \u26A0\uFE0F Navigation already in progress");return}let r=n.href;he=!0,je=r,console.log(`[NAV-TRANSITION] \u{1F3AF} Navigating to: ${r}`),Gt("navigation:start",{url:r});try{if(await mt({delay:o}),!he||je!==r){console.log("[NAV-TRANSITION] \u26A0\uFE0F Navigation was aborted");return}window.location.href=r}catch(c){console.error("[NAV-TRANSITION] \u274C Error during navigation:",c),at(),window.location.href=r}}function at(){he&&(console.log("[NAV-TRANSITION] \u274C Aborting navigation"),he=!1,je=null,gt(),Gt("navigation:abort"))}window.addEventListener("popstate",()=>{he&&(console.log("[NAV-TRANSITION] \u26A0\uFE0F Browser navigation detected, aborting overlay"),at())});function zo(){ye&&(ye=null),he=!1,je=null,console.log("[NAV-TRANSITION] Cleaned up")}typeof window!="undefined"&&(window.App=window.App||{},window.App.navTransition={cleanup:zo,abort:at});function Wo(){let e=["autoplay","fullscreen","picture-in-picture","encrypted-media"],t=['iframe[src*="vimeo.com"]','iframe[src*="player.vimeo.com"]'].join(",");document.querySelectorAll(t).forEach(o=>{let n=(o.getAttribute("allow")||"").split(";").map(c=>c.trim()).filter(Boolean),r=Array.from(new Set([...n,...e])).join("; ");o.setAttribute("allow",r)})}function Ft(e={}){let{lightboxRoot:t="#lightbox",lerp:o=.1,snapLerp:n=.15,smoothScroll:r={},preloader:c={}}=e,a={selector:"#preloader",videoSelector:"video[data-wf-ignore], video[autoplay], video[data-autoplay]",vimeoPreload:"prefetch",vimeoBufferLimit:5,minLoadTime:1e3,pulseDuration:2200,pulseOpacity:.2,...c};pt(a),Lt({lerp:o,snapLerp:n,...r}),yt({selector:".accordeon"}),ot({containerSelector:".perspective-wrapper",replaceExisting:!0}),Nt({containerSelector:".perspective-wrapper",slideSelector:".slide",linkSelector:".slide__link"}),It({root:t,openDuration:1500,closeDuration:1500});try{Ot({scrollerSelector:".perspective-wrapper",hideEventName:"logo-hide",appearEventName:"logo-appear"})}catch{}Vt({containerSelector:".nav",linkSelector:"a.nav__link",transitionDelay:300})}window.App=window.App||{};window.App.init=Ft;document.addEventListener("DOMContentLoaded",()=>{console.log(`
\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557`),console.log("\u2551     McCann Website - Initialization Starting        \u2551"),console.log(`\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`);try{Wo(),Ft(),console.log(`
\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557`),console.log("\u2551     \u2705 All Systems Initialized Successfully         \u2551"),console.log(`\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`)}catch(e){console.error("[APP] \u274C Initialization error:",e)}});})();
