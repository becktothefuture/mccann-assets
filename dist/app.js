(()=>{var Ze=Object.defineProperty;var Qe=(e,t,i)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var u=(e,t,i)=>Qe(e,typeof t!="symbol"?t+"":t,i);var G={"loreal-final-copy":{client:"L'Or\xE9al Paris",title:"The Final Copy of Ilon Specht",truth:"Women have inherent worth and deserve to be seen, heard, and valued.",truthWellTold:"Because You're Worth It",description:`Fifty years after "Because I'm Worth It" was written, its meaning had become eroded by time. What began as a statement of rebellion had softened into a tagline \u2014 spoken everywhere but rarely felt. Our idea was not to reinterpret it, but to reclaim it. We did so by going back to where the line began, to Ilon Specht, the young McCann copywriter who fought so hard to bring those words to life. We worked with two-time Oscar-winning filmmaker Ben Proudfoot to capture Specht, now in her senior years and facing a terminal illness, in her New York apartment. She reflects on making the original ad at a time when so many forces were working against her, and, all throughout, her fire and unfiltered voice come to life: sharp, defiant and unapologetic. No brand messaging. No product shots. Just truth. The ultimate embodiment of "I'm worth it." We gave Ilon Specht back her words and her authorship. We didn't modernize her line. We reminded the world of its original power, and the world listened.`,impact:"More than 75% of people who saw the film reported that it changed their perception of the brand",vimeoId:"1135350579",vimeoPreviewId:"1131846355",awards:["award-generic-1.jpg","award-generic-2.jpg","award-generic-3.jpg"]},"mastercard-abracadabra":{client:"Mastercard",title:"Abracadabra: From Fan to Featured",truth:"Music fans want to live their passion, not just listen to it.",truthWellTold:"From Fan to Featured",description:"Gen Z doesn't just watch culture, they make it. So Mastercard turned Lady Gaga's music video into a fan-powered audition, with choreography by Parris Goebel, creators leading the charge, and Gaga amplifying every step. We partnered with viral dance creators to teach the moves, model participation, and rally their communities. Mastercard and Gaga fueled the movement by liking, reposting, and celebrating fans across platforms. The strategy was rooted in Gen Z's desire for self-expression and social connection \u2014 turning fan behavior into the engine of engagement. The result: 1.4 billion views, TikTok's top branded hashtag, and Mastercard's biggest-ever Gen Z brand lift.",impact:"Mastercard's biggest-ever Gen Z brand lift",vimeoId:"1130327297",vimeoPreviewId:"1135324254",awards:["award-generic-1.jpg","award-generic-2.jpg"]},"xbox-everyday-tactician":{client:"Xbox",title:"The Everyday Tactician",truth:"Football Manager gamers don't just play the game, they study it.",truthWellTold:"Xbox turned game intelligence into real-world influence",description:"Modern football is dominated by a few rich clubs that can afford to hire big teams of coaches and analysts, which means smaller clubs struggle to compete for talent. For the launch of Football Manager 24 \u2014 the most realistic football simulator \u2014 Xbox helped the small club Bromley FC recruit their next tactician from an untapped talent pool: gamers. The announcement made headlines everywhere, and people from around the world applied. Nathan Owolabi, a dedicated Football Manager player, got the job. He used data from the game to help the club win in the real world, developing formations, finding new strategies, and uncovering the opposition's weaknesses. The story of this unusual approach to football was told in a 60+ minute documentary on TNT Sports \u2014 the UK's biggest sports broadcaster. With the help of a gamer, the club achieved its best season in its 132-year history, ultimately gaining promotion to League Two for the first time ever. Xbox saw a dramatic increase in Football Manager players on console, and Football Manager 24 became the most-played game in the history of the franchise.",impact:"190% increase in Xbox players for Football Manager 24, which became the most-played game in the history of the franchise",vimeoId:"1130327360",vimeoPreviewId:"1135324285",awards:["award-generic-1.jpg","award-generic-2.jpg","award-generic-3.jpg"]},"chevrolet-100-years":{client:"Chevrolet",title:"100 Years of Chevrolet",truth:"The future is born out of the past. Every Chevrolet that's carried us along the way continues to drive us forward.",truthWellTold:"For 100 years, always driving toward the future",description:"Chevrolet celebrated 100 years in Brazil with a 360\xBA campaign that revisited defining moments in the nation's history. In the hero film, from the rise of industry to women's right to vote, from the dream of a new capital to the return of democracy, from World Cup celebrations to reconnection after the pandemic, each scene was chosen to reflect the country's progress and the brand's enduring presence throughout. The story is told through immersive cinematography, 3D transitions, and iconic vehicles that act as portals through time. Every frame was carefully crafted, combining historical accuracy with emotional depth. Narrated by Fernanda Torres, one of Brazil's most celebrated actresses, the film aired nationally on Chevrolet's 100th anniversary. More than a celebration, it became a statement about memory, progress, and connection, reminding Brazilians that Chevrolet has not just been a car brand, but a part of their country's journey.",impact:"#1 position in brand consideration \u2014 6 p.p. ahead of 2nd place and 9 p.p. ahead of 3rd. #1 position in engagement across the category, with 44\xD7 more interactions than the brand's overall average. 470,000 real experiences delivered through the Spotify activation. Strongest Brand Power in the industry in Brazil's automotive industry during the period.",vimeoId:"1130337601",vimeoPreviewId:"1135324304",awards:["award-generic-1.jpg"]},"mastercard-inclusive-by-design":{client:"Mastercard",title:"Inclusive by Design",truth:"An inclusive global financial system is good for humanity and business.",truthWellTold:"Doing well by doing good.",description:`When Mastercard and McCann debuted "Priceless" in 1997, the campaign captured people's hearts with a breakthrough idea: in a world of conspicuous consumption, what really matters are the things that money can't buy \u2014 like taking your child to their first game at the ballpark. Mastercard and McCann realized that to continue to deliver on "Priceless," the brand platform could not ignore the 1.4 billion people globally excluded from the financial system due to discrimination, exploitation, and more. With financial inclusion now central to Mastercard's brand purpose, "Priceless" has evolved beyond messaging into groundbreaking product innovations, tools, and platforms. Among them: the "True Name" card, allowing transgender individuals to have their real names inscribed on their credit cards; the "Touch Card" system that lets sight-impaired consumers to distinguish their credit, debit, and pre-paid cards by touch; the "Where to Settle" tool that helps Ukrainian refugees in Poland find the ideal areas to make their new homes; the "Where to Start" tool that helps create a symbiotic financial ecosystem between resettled Ukrainian refugees and their Polish neighbors; and the new "Life Donor Card" and "ATM Voting" projects, which have turned millions of users into organ donors and helped citizens decide how the government uses their money, respectively.`,impact:"+89% increase in brand value since 2018",vimeoId:"1130338763",vimeoPreviewId:"1135324336",awards:["award-generic-1.jpg","award-generic-2.jpg","award-generic-3.jpg"]},"puck-recipe-for-change":{client:"Puck",title:"Recipe for Change",truth:"Cultural knowledge is economic power.",truthWellTold:"From local kitchens to global restaurant tables",description:`As Lebanon faced one of the worst economic and humanitarian crises in modern history, traditional aid models and retail logistics collapsed, leaving displaced women with no income and limited support. Puck, a trusted Middle Eastern dairy brand, saw an opportunity in what remained: the women's family recipes, passed down for generations. "Recipe for Change" transformed these cultural heirlooms into intellectual property by licensing the recipes to Lebanese and fusion restaurants around the world. Each dish sold generated income, with 50% of profits going directly to the women behind them. The strategy reframed these women not as victims, but as business partners, restoring dignity and agency. Launched during Ramadan, a time rooted in generosity, the campaign created a scalable B2B2C model that connected communities across borders. It not only supported displaced women but also drove new revenue for restaurants and redefined how brands can build equity, empathy, and economic impact during crisis.`,impact:"+16.67% profit increase, +56% rise in footfall for participating restaurants, +807.12% revenue for the women behind the recipes",vimeoId:"1130327170",vimeoPreviewId:"1135324532",awards:["award-generic-1.jpg","award-generic-2.jpg"]},"kids-help-phone":{client:"Kids Help Phone",title:"Help",truth:'Adults define "help" as something youth only need in crisis.',truthWellTold:"Help means everything",description:`"Help" is a powerful film, marking the next chapter of Kids Help Phone's Feel Out Loud platform. The film reimagines The Beatles' "Help!" to explore what "help" truly means to young people today \u2014 from everyday struggles to urgent crises. Blending live action, CGI, and emotional metaphor, it visualizes real youth experiences drawn from over 50 million data points that have been aggregated and anonymized from real conversations with youth.`,impact:"In 2023, 49% of youth said that without KHP, they would have ignored their issue entirely \u2014 a major barrier to positive mental health outcomes.",vimeoId:"1130327957",vimeoPreviewId:"1135324368",awards:[]},"aldi-kevin-carrot":{client:"ALDI",title:"Kevin the Carrot's Christmas Mission",truth:"Living well everyday isn't about spending more but enjoying more. Because having the best Christmas possible should be something everyone can afford to have, not just dream about.",truthWellTold:"Have a Cracking Christmas with Aldi",description:'In a festive campaign, a snowy Christmas Eve village loses its sparkle when Dr. Humbug and her crew steal the "Christmas Spirit." Santa calls on Kevin the Carrot to save the day, sending him on a daring mission to infiltrate Humbug Headquarters. With clever disguises, his wife Katie, and a few comedic close calls, Kevin works to restore joy to the village. The story ends with the humbugs learning that "Christmas is better when goodwill is returned."',impact:`The ad achieved the highest possible 5.9-star rating in System1's analysis for both short and long-term effects (the sixth consecutive year Aldi's Christmas campaign had scored the highest in the rankings). Kevin was also named the UK's favourite Christmas ad of all time, and Aldi's reported a 3.4% increase in total sales in 2024, the brand's "best Christmas ever."`,vimeoId:"1130327081",vimeoPreviewId:"1135324387",awards:[]},"xbox-cheeky-controller":{client:"Xbox",title:"Cheeky Controller",truth:"Irreverence is Deadpool's true superpower.",truthWellTold:"Deadpool's greatest asset is his\u2026",description:`The highly anticipated theatrical release of Marvel Studios' "Deadpool & Wolverine" was an unmissable pop culture moment, and Xbox aimed to capture the attention of the movie's fanbase alongside other brands vying for consumer engagement. By authentically blending Xbox's technological edge with Deadpool's irreverent humor, we created a culturally iconic retail promotion with a competition at its core. Rather than rely on predictable character assets, we launched The Cheeky Controller \u2014 a limited-edition collectible modeled after Deadpool's most talked-about body part \u2014 as an exclusive prize in a global sweepstakes. This unexpected twist on character merchandising not only ignited fan frenzy and drove massive earned media, it also deepened brand engagement and delivered a 25% sales uplift on the Microsoft Store, proving the power of bold retail ideas to cut through.`,impact:"+25% sales increase on the Microsoft Store",vimeoId:"000000000",vimeoPreviewId:"1135324421",awards:["award-generic-1.jpg","award-generic-2.jpg"]},"mcdonalds-not-first-dates":{client:"McDonald's",title:"Not for First Dates",truth:"While McDonald's may not mark the beginning of love, it often becomes part of love's journey \u2014 for second dates, late-night comfort, and everyday rituals.",truthWellTold:"Not for first dates. But for every other one.",description:`By embracing a viral moment that its restaurant "wasn't for first dates," McDonald's reignited emotional connection with the audience by celebrating second, fifth, and forever dates through intimate, honest storytelling.`,impact:"",vimeoId:"4194cb55da",vimeoPreviewId:"1135324485",awards:["award-generic-1.jpg"]},"just-eat-did-somebody-say":{client:"Just Eat",title:"Did Somebody Say",truth:"Getting what you want, when you want it, is modern life's greatest joy.",truthWellTold:"Did Somebody Say",description:`Just Eat UK&I and McCann London launched a fresh take on the iconic "Did Somebody Say" campaign, starring UK garage legend Craig David. Celebrating neighbourhoods and community spirit, the new campaign brings a distinctly local "flava" to the platform. Craig David's garage-inspired remix of the famous jingle soundtracks a lively journey through "Impossible Street," showcasing diverse households and the many ways Just Eat serves everyday moments \u2014 from cosy takeaways to last-minute groceries. Directed by Romain Chassaing, the campaign spans TV, cinema, radio, and social, spotlighting Just Eat's deep connection to local culture.`,impact:"Since launching, ad recognition is now at 67% (category average is 38%), profits have increased by 56%, and the UK has experienced +24% YOY revenue growth. Best of all, Just Eat has taken its rightful place as number 1 in the food delivery category, all whilst entertaining the world.",vimeoId:"1130326849",vimeoPreviewId:"1135324443",awards:[]},"prada-paradigme":{client:"Prada",title:"Paradigme",truth:"There's no singular version of masculinity. Each individual creates their own paradigm.",truthWellTold:"What if there's another way?",description:`With a cinematic film starring brand ambassador Tom Holland, Prada Beauty unveiled its new masculine fragrance, Paradigme. Created by McCann Paris and directed by Oscar-winner Thomas Vinterberg, the two-minute spot follows Holland as he reflects on life's possibilities, asking, "What if there's another way?" Through moments of introspection, movement, and creativity, the film captures themes of growth and self-discovery, echoing the fragrance's spirit of redefining one's path. Blending emotional storytelling with striking visuals, Paradigme celebrates authenticity and curiosity. The campaign launched globally across TV, cinema, and social platforms, embodying Prada's call to "create your paradigm."`,impact:"",vimeoId:"1130327867",vimeoPreviewId:"1135324463",awards:[]}};console.log("[PRELOADER] Module loaded");var D=null,Z=null,U=null,z=null,K=null,fe=!0,ue=null,tt=!1,it=75;var me=null,pe=null,ot=0,nt=800;var ke=100,Pe="",ne=!1,oe=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;function st(){typeof document=="undefined"||!document.body||ne||(Pe=document.body.style.overflow||"",ne=!0)}function J(){typeof document=="undefined"||!document.body||(ne?document.body.style.overflow=Pe:document.body.style.overflow="",ne=!1)}function We({selector:e="#preloader",videoSelector:t="video[data-wf-ignore], video[autoplay], video[data-autoplay]",vimeoPreload:i="prefetch",vimeoBufferLimit:o=5,projectData:n=G,minLoadTime:s=1e3,showDebugLog:a=!0,pulseDuration:d=3e3,pulseOpacity:c=.2,enableResizeCover:m=!0,resizeFadeDuration:p=150,resizeShowDelay:w=800,eventLeadMs:y=100}={}){if(fe=a,it=p,nt=w,ke=y,g("Initializing preloader..."),st(),document.body.classList.add("preloader-active"),document.body.style.overflow="hidden",D=document.querySelector(e),!D){console.error("[PRELOADER] \u274C Preloader element not found"),document.body.classList.remove("preloader-active"),J();return}if(D.style.display="flex",D.style.position="fixed",D.style.zIndex="999999",Z=D.querySelector(".preloader__signet"),U=D.querySelector(".preloader__progress"),!Z){console.error("[PRELOADER] \u274C Signet element not found");return}fe&&lt(),g("\u2713 Elements found","success"),g("\u2713 Pulse animation starting","info"),gt(d,c);let b=performance.now();Promise.all([at(t),ht(n,i,o)]).then(()=>(g("\u2713 HTML5 videos and Vimeo preload complete","success"),mt())).then(()=>(g("\u2713 Slides built","success"),pt())).then(()=>{let S=performance.now()-b,T=Math.max(0,s-S);g(`\u2713 All media loaded and previews playing in ${Math.round(S)}ms`,"success"),T>0&&g(`Waiting ${Math.round(T)}ms (min display time)...`,"info"),setTimeout(()=>{we()},T)}).catch(S=>{console.error("[PRELOADER] \u274C Error:",S),g(`\u274C Error loading media: ${S.message}`,"error");let T=performance.now()-b,L=Math.max(0,s-T);setTimeout(()=>{g("Hiding despite errors (graceful degradation)","warning"),we()},L)})}function rt(){we()}function lt(){!D||z||(z=document.createElement("div"),z.className="preloader__log",z.setAttribute("aria-live","polite"),z.setAttribute("aria-atomic","false"),D.appendChild(z),g("Debug log initialized","info"))}function g(e,t="info"){let i=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),o=`[PRELOADER] ${e}`;switch(t){case"error":console.error(o);break;case"warning":console.warn(o);break;case"success":case"info":default:console.log(o)}if(!fe||!z)return;let n=document.createElement("div");n.className=`preloader__log-entry preloader__log-entry--${t}`,n.textContent=`${i} ${e}`,z.appendChild(n),z.scrollTop=z.scrollHeight;let s=z.querySelectorAll(".preloader__log-entry");s.length>20&&s[0].remove()}async function at(e){let t=Array.from(document.querySelectorAll(e));if(t.length===0){g("\u26A0 No videos found to prefetch","warning");return}g(`\u{1F3AC} Found ${t.length} video(s) to prefetch`,"info");let i=0,o=t.map((d,c)=>ct(d,c+1,t.length,()=>{i++,dt(i,t.length)})),n=await Promise.allSettled(o),s=n.filter(d=>d.status==="fulfilled").length,a=n.filter(d=>d.status==="rejected").length;a>0&&g(`\u26A0 ${a} video(s) failed to load`,"warning"),g(`\u2713 ${s}/${t.length} video(s) ready`,"success")}function ct(e,t,i,o){return new Promise((n,s)=>{if(e.readyState>=3){g(`\u2713 Video ${t}/${i} already loaded`,"success"),o(),n(e);return}let a=()=>{g(`\u2713 Video ${t}/${i} ready`,"success"),m(),o(),n(e)},d=w=>{g(`\u26A0 Video ${t}/${i} failed`,"warning"),m(),s(w)},c=()=>{g(`\u26A0 Video ${t}/${i} timeout (10s)`,"warning"),m(),s(new Error("Video load timeout"))},m=()=>{e.removeEventListener("canplaythrough",a),e.removeEventListener("canplay",a),e.removeEventListener("error",d),clearTimeout(p)},p=setTimeout(c,1e4);e.addEventListener("canplaythrough",a,{once:!0}),e.addEventListener("canplay",a,{once:!0}),e.addEventListener("error",d,{once:!0}),e.readyState===0&&(g(`Loading video ${t}/${i}...`,"info"),e.load())})}function dt(e,t){if(!U)return;let i=Math.round(e/t*100);U.textContent=`${i}%`,U.setAttribute("aria-valuenow",i)}async function ht(e,t="prefetch",i=5){if(t==="none"){g("\u23ED Vimeo preloading disabled","info");return}let o=Object.values(e).map(n=>n==null?void 0:n.vimeoId).filter(n=>n&&n!=="000000000"&&n!=="null"&&n!==null);if(o.length===0){g("\u26A0 No valid Vimeo IDs found in project data","warning");return}switch(g(`\u{1F3AC} Found ${o.length} Vimeo video(s) in project data`,"info"),t){case"prebuffer":return ut(o,i);case"prefetch":default:return ge(o)}}function ge(e){return g(`\u{1F517} Adding prefetch hints for ${e.length} Vimeo video(s)`,"info"),e.forEach((t,i)=>{let o=document.createElement("link");o.rel="prefetch",o.href=`https://player.vimeo.com/video/${t}`,o.as="document",document.head.appendChild(o),g(`\u2713 Vimeo ${i+1}/${e.length} prefetch hint added`,"success")}),g("\u2713 All Vimeo prefetch hints added (lightweight)","success"),Promise.resolve()}function ut(e,t=5){let i=navigator.connection||navigator.mozConnection||navigator.webkitConnection,o=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(i&&i.effectiveType!=="4g")return g("\u26A0 Skipping Vimeo prebuffer (slow connection detected)","warning"),g("\u2713 Falling back to prefetch hints only","info"),ge(e);if(o)return g("\u26A0 Skipping Vimeo prebuffer (mobile device detected)","warning"),g("\u2713 Falling back to prefetch hints only","info"),ge(e);let n=e.slice(0,t);return n.length<e.length&&(g(`\u26A0 Limiting prebuffer to first ${t} videos`,"warning"),e.slice(t).forEach(a=>{let d=document.createElement("link");d.rel="prefetch",d.href=`https://player.vimeo.com/video/${a}`,d.as="document",document.head.appendChild(d)})),g(`\u{1F3AC} Prebuffering ${n.length} Vimeo video(s)`,"info"),new Promise(s=>{let a=document.createElement("div");a.id="vimeo-prebuffer-container",a.style.cssText=`
      position: fixed;
      left: -9999px;
      top: -9999px;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    `,a.setAttribute("aria-hidden","true");let d=0;n.forEach((c,m)=>{let p=document.createElement("iframe");p.src=`https://player.vimeo.com/video/${c}?muted=1&autoplay=1&background=1&quality=360p`,p.allow="autoplay",p.width="1",p.height="1",p.loading="eager",g(`Loading Vimeo ${m+1}/${n.length} (ID: ${c})...`,"info"),setTimeout(()=>{d++,g(`\u2713 Vimeo ${m+1}/${n.length} prebuffered`,"success"),p.remove(),d===n.length&&(a.remove(),g("\u2713 All Vimeo videos prebuffered","success"),s())},8e3),a.appendChild(p)}),document.body.appendChild(a)})}function mt(){return new Promise(e=>{let t=document.querySelectorAll(".slide");if(t.length>0){g(`\u2713 Found ${t.length} existing slides`,"success"),e();return}let i=setTimeout(()=>{g("\u26A0\uFE0F  Slides build timeout - proceeding anyway","warning"),e()},5e3);window.addEventListener("slides:built",()=>{clearTimeout(i),g("\u2713 Slides built event received","success"),e()},{once:!0})})}function pt(){return new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{let t=document.querySelectorAll('.slide__preview iframe[src*="vimeo.com"]');if(t.length===0){g("\u26A0\uFE0F  No preview videos found - proceeding","warning"),e();return}g(`\u{1F3AC} Waiting for ${t.length} preview video(s) to play...`,"info"),ft().then(()=>{let i=Array.from(t).map((o,n)=>new Promise(s=>{try{if(!window.Vimeo||!window.Vimeo.Player){g(`\u26A0\uFE0F  Vimeo API not available for video ${n+1} - assuming ready`,"warning"),s();return}let a=new window.Vimeo.Player(o),d=!1,c=!1,m=()=>{d&&c&&(g(`\u2713 Preview video ${n+1}/${t.length} playing`,"success"),s())};a.ready().then(()=>{d=!0,m()}).catch(()=>{setTimeout(()=>{d=!0,m()},1e3)}),a.on("play",()=>{c=!0,m()}),setTimeout(()=>{a.getPaused().then(p=>{p||(c=!0,m())}).catch(()=>{c=!0,m()})},1500),setTimeout(()=>{(!d||!c)&&(g(`\u26A0\uFE0F  Preview video ${n+1} timeout - proceeding`,"warning"),s())},4e3)}catch(a){g(`\u26A0\uFE0F  Error checking preview video ${n+1}: ${a.message}`,"warning"),s()}}));Promise.all(i).then(()=>{g("\u2713 All preview videos playing","success"),e()})}).catch(()=>{g("\u26A0\uFE0F  Vimeo API failed to load - proceeding without verification","warning"),e()})})})})}function ft(){return window.Vimeo&&window.Vimeo.Player?Promise.resolve():new Promise(e=>{let t=document.querySelector('script[src*="player.vimeo.com/api/player.js"]');if(t){t.addEventListener("load",()=>e());return}let i=document.createElement("script");i.src="https://player.vimeo.com/api/player.js",i.async=!0,i.onload=()=>e(),i.onerror=()=>e(),document.head.appendChild(i)})}function Ce(){try{oe!=null&&oe.emit&&oe.emit("load-completed")}catch{}try{window.dispatchEvent(new CustomEvent("load-completed"))}catch{}g('\u{1F3AF} Emitted "load-completed" event',"success")}function we(){if(!D){document.body.classList.remove("preloader-active"),J();return}if(g("\u{1F3AF} Hiding preloader...","info"),$e(),matchMedia("(prefers-reduced-motion: reduce)").matches){Ce(),setTimeout(()=>{D.style.display="none",document.body.classList.remove("preloader-active"),J(),window.dispatchEvent(new CustomEvent("preloader:complete")),g("\u2713 Preloader complete","success")},ke);return}D.classList.add("is-revealing"),Ce(),setTimeout(()=>{D.style.display="none",document.body.classList.remove("preloader-active"),J(),window.dispatchEvent(new CustomEvent("preloader:complete")),g("\u2713 Preloader complete","success")},250)}function gt(e=3e3,t=.2){if(!Z)return;let i=performance.now();function o(n){let s=(n-i)%e/e,a=1-t/2+Math.sin(s*Math.PI*2)*(t/2);Z.style.setProperty("--pulse-opacity",a),K=requestAnimationFrame(o)}K=requestAnimationFrame(o),g(`\u2713 Pulse animation started (duration: ${e}ms, opacity: ${1-t}-1.0)`,"success")}function $e(){K&&(cancelAnimationFrame(K),K=null)}function wt(){var e;$e(),ue&&(clearTimeout(ue),ue=null),me&&(clearTimeout(me),me=null),pe&&(clearTimeout(pe),pe=null),D=null,Z=null,U=null,z=null,tt=!1,ot=0,(e=document.body)==null||e.classList.remove("preloader-active"),J(),g("Cleaned up","info")}typeof window!="undefined"&&(window.App=window.App||{},window.App.preloader={cleanup:wt,hide:rt});console.log("[ACCORDION] Module loaded");function Me(e={}){let{selector:t=".accordeon"}=e,i=document.querySelector(t);if(!i){console.log("[ACCORDION] \u274C Root element not found:",t);return}console.log("[ACCORDION] \u2713 Root element found:",t),window._accordionRoot=i,window._accordionDebug=!0;let o=r=>r==null?void 0:r.querySelector(":scope > .acc-list"),n=r=>{let h=r.parentElement;return h!=null&&h.classList.contains("acc-list")?h:i},s=(...r)=>{try{console.log("[ACCORDION]",...r)}catch{}},a=r=>{var h;return(h=r==null?void 0:r.classList)!=null&&h.contains("acc-section")?"section":"item"},d=r=>{let h=r==null?void 0:r.querySelector(":scope > .acc-trigger");return((h==null?void 0:h.textContent)||"").trim().replace(/\s+/g," ").slice(0,80)},c="acc-trigger--active";function m(r,h=!0){let v=r.querySelectorAll(":scope > .acc-item");v.forEach(I=>{h?I.classList.add("acc-animate-target"):I.classList.remove("acc-animate-target")}),s(`Marked ${v.length} items for ${h?"show":"hide"} animation in panel ${r.id}`)}function p(){i.querySelectorAll(".acc-animate-target").forEach(r=>{r.classList.remove("acc-animate-target")})}let w=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null;s("Webflow IX available:",!!w);function y(r){try{w&&typeof w.emit=="function"&&(s(`\u{1F3AF} EMITTING via wfIx.emit: "${r}"`),w.emit(r))}catch(h){s("wfIx.emit error",h&&h.message)}try{window.dispatchEvent(new CustomEvent(r)),s(`\u{1F4E2} EMITTING via window.dispatchEvent: "${r}"`)}catch(h){s("window.dispatchEvent error",h&&h.message)}}function b(r){let h=[];r==="acc-open"&&h.push("accordeon-open"),r==="acc-close"&&h.push("accordeon-close"),[r,...h].forEach(v=>y(v))}let S=i.querySelectorAll(".acc-trigger");S.forEach((r,h)=>{let v=r.closest(".acc-section, .acc-item"),I=o(v);if(I){let A=I.id||`acc-panel-${h}`;I.id=A,r.setAttribute("aria-controls",A),r.setAttribute("aria-expanded","false")}}),s("bootstrapped",S.length,"triggers");function T(r){var v;s("expand start",{id:r.id,children:(v=r.children)==null?void 0:v.length}),r.classList.add("is-active","acc-list--expanding"),r.dataset.state="opening";let h=I=>{I.propertyName==="max-height"&&r.dataset.state==="opening"&&(r.classList.remove("acc-list--expanding"),r.classList.add("acc-list--expanded"),r.dataset.state="open",s("expanded",{id:r.id}))};r.addEventListener("transitionend",h,{once:!0})}function L(r){s("collapse start",{id:r.id}),r.classList.remove("acc-list--expanding","acc-list--expanded"),r.dataset.state="closing";let h=v=>{v.propertyName==="max-height"&&r.dataset.state==="closing"&&(r.dataset.state="collapsed",r.classList.remove("is-active"),m(r,!1),s("collapsed",{id:r.id}))};r.addEventListener("transitionend",h,{once:!0})}function P(r){let h=n(r);if(!h)return;let v=r.matches(".acc-section")?"acc-section":"acc-item";Array.from(h.children).forEach(I=>{var $;if(I===r||!I.classList.contains(v))return;let A=o(I);if(A&&(A.dataset.state==="open"||A.dataset.state==="opening")){s("close sibling",{kind:v,label:d(I),id:A.id}),p(),m(A,!0),requestAnimationFrame(()=>b("acc-close")),L(A);let _=I.querySelector(":scope > .acc-trigger");_==null||_.setAttribute("aria-expanded","false"),($=_==null?void 0:_.classList)==null||$.remove(c)}})}function O(r){(r||i).querySelectorAll(".acc-item > .acc-list").forEach(v=>{var I;if(v.dataset.state==="open"||v.dataset.state==="opening"){L(v);let A=v.closest(".acc-item"),$=A==null?void 0:A.querySelector(":scope > .acc-trigger");$==null||$.setAttribute("aria-expanded","false"),(I=$==null?void 0:$.classList)==null||I.remove(c)}})}function x(r){var A,$;let h=o(r);if(!h)return;let v=r.querySelector(":scope > .acc-trigger"),I=!(h.dataset.state==="open"||h.dataset.state==="opening");s("toggle",{kind:a(r),opening:I,label:d(r),id:h.id}),I&&P(r),a(r)==="section"&&O(I?i:r),I?(p(),m(h,!0),requestAnimationFrame(()=>{s("emit acc-open",{id:h.id}),b("acc-open")}),T(h),v==null||v.setAttribute("aria-expanded","true"),(A=v==null?void 0:v.classList)==null||A.add(c)):(p(),m(h,!0),requestAnimationFrame(()=>{s("emit acc-close",{id:h.id}),b("acc-close")}),L(h),v==null||v.setAttribute("aria-expanded","false"),($=v==null?void 0:v.classList)==null||$.remove(c))}document.body.classList.add("js-prep"),i.querySelectorAll(".acc-list").forEach(r=>{r.dataset.state="collapsed"}),requestAnimationFrame(()=>{document.body.classList.remove("js-prep")});function j(r){let h=r.target.closest(".acc-trigger");if(!h||!i.contains(h)||r.type==="keydown"&&r.key!=="Enter"&&r.key!==" ")return;r.preventDefault();let v=h.closest(".acc-section, .acc-item");v&&(s(r.type,{label:(h.textContent||"").trim().replace(/\s+/g," ").slice(0,80)}),x(v))}i.addEventListener("click",j),i.addEventListener("keydown",j);let B=new ResizeObserver(r=>{r.forEach(({target:h})=>{h.dataset.state==="open"&&(h.classList.contains("acc-list--expanded")||h.classList.add("acc-list--expanded"))})});i.querySelectorAll(".acc-list").forEach(r=>B.observe(r)),window._accordionTest={markItems:r=>{let h=document.getElementById(r)||i.querySelector(".acc-list");h&&(m(h,!0),console.log("Marked items in panel:",h))},clearMarks:()=>{p(),console.log("Cleared all marks")},emitOpen:()=>{b("acc-open"),console.log("Emitted acc-open")},emitClose:()=>{b("acc-close"),console.log("Emitted acc-close")},checkWebflow:()=>{console.log("Webflow object:",window.Webflow),console.log("wfIx:",w)},getMarkedItems:()=>{let r=i.querySelectorAll(".acc-animate-target");return console.log(`Found ${r.length} items with .acc-animate-target class`),r}},console.log("[ACCORDION] Debug functions available at window._accordionTest")}console.log("[VIMEO] module loaded");function yt(e){var i;if(!e)return"";let t=String(e).trim();if(/^\d+$/.test(t))return t;try{let o=new URL(t,"https://example.com");if((o.hostname||"").includes("vimeo.com")){let s=o.pathname.split("/").filter(Boolean);return((i=(s[s.length-1]||"").match(/\d+/))==null?void 0:i[0])||""||""}}catch{}return""}function se(e,t,i={}){if(!e)return;let o=yt(t);if(!o){e.innerHTML="";return}let n=new URLSearchParams({dnt:1,...i}).toString(),s=`https://player.vimeo.com/video/${o}?${n}`,a=document.createElement("iframe");a.src=s,a.allow="autoplay; fullscreen; picture-in-picture; encrypted-media",a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",""),a.style.cssText=`
    position: absolute;
    top: 50%;
    left: 50%;
    /* Sizes are set dynamically to achieve true cover */
    width: 100%;
    height: 100%;
    transform: translate(-50%, -50%);
    border: 0;
  `,e.innerHTML="",e.appendChild(a);let d=e.style.overflow;(!e.style.position||e.style.position==="static")&&(e.style.position="relative"),e.style.overflow="hidden",vt().then(()=>{let c=new(window.Vimeo&&window.Vimeo.Player?window.Vimeo.Player:function(){})(a);if(!c||!c.getVideoWidth){Q(e,a,16/9,1.02);return}Promise.all([c.getVideoWidth(),c.getVideoHeight()]).then(([m,p])=>{let w=m&&p?m/p:1.7777777777777777;Q(e,a,w,1.02),new ResizeObserver(()=>Q(e,a,w,1.02)).observe(e),window.addEventListener("resize",()=>Q(e,a,w,1.02),{passive:!0})}).catch(()=>{Q(e,a,16/9,1.02)})})}function vt(){return window.Vimeo&&window.Vimeo.Player?Promise.resolve():new Promise(e=>{let t=document.querySelector('script[src*="player.vimeo.com/api/player.js"]');if(t){t.addEventListener("load",()=>e());return}let i=document.createElement("script");i.src="https://player.vimeo.com/api/player.js",i.async=!0,i.onload=()=>e(),i.onerror=()=>e(),document.head.appendChild(i)})}function Q(e,t,i,o=1){let n=e.getBoundingClientRect(),s=Math.max(1,n.width),a=Math.max(1,n.height),d=s/a,c,m;d>i?(c=s,m=s/i):(m=a,c=a*i);let p=Math.ceil(c*o),w=Math.ceil(m*o);t.style.width=`${p}px`,t.style.height=`${w}px`,t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)"}function F(e,t=window,i={}){try{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i}))}catch{}try{window.dispatchEvent(new CustomEvent(e,{detail:i}))}catch{}}console.log("[SLIDES] Module loaded");var re=null;function ye(e={}){var y;let{containerSelector:t=".perspective-wrapper",replaceExisting:i=!0,projectDataOverride:o=(y=window.McCANN_PROJECT_DATA)!=null?y:G}=e;re=o;let n=Object.keys(re||{});console.log(`[SLIDES] \u2713 Loaded ${n.length} project${n.length!==1?"s":""} from JSON`);let s=document.querySelector(t);if(!s){console.log("[SLIDES] \u274C Container not found:",t);return}let a=s.querySelectorAll(".slide"),d=a[0]||document.querySelector(".slide");if(!d){console.log("[SLIDES] \u274C No .slide template found");return}let c=null,m=d.nextElementSibling;for(;m;){if(!m.classList.contains("slide")){c=m;break}m=m.nextElementSibling}let p=d.cloneNode(!0);bt(p);let w=document.createDocumentFragment();n.forEach(b=>{let S=re[b];if(!S){console.warn(`[SLIDES] \u26A0\uFE0F  Project "${b}" missing data, skipping`);return}let T=p.cloneNode(!0);T.dataset.project=b,T.setAttribute("role","button"),T.setAttribute("tabindex","0"),T.setAttribute("aria-label",`${S.client||""} \u2014 ${S.title||""}`.trim());let L=T.querySelector(".slide__client"),P=T.querySelector(".slide__title");L&&(L.textContent=S.client||""),P&&(P.textContent=S.title||"");let O=T.querySelector(".slide__preview");O&&(!S.vimeoPreviewId||S.vimeoPreviewId==="000000000"?console.warn(`[SLIDES] \u26A0\uFE0F  Missing vimeoPreviewId for "${b}"`):requestAnimationFrame(()=>{se(O,S.vimeoPreviewId,{autoplay:1,muted:1,autopause:0,controls:0,background:1,playsinline:1,loop:1,dnt:1})})),w.appendChild(T)}),i&&a.forEach(b=>b.remove()),c&&c.parentNode===s?s.insertBefore(w,c):s.appendChild(w),console.log(`[SLIDES] \u2713 Rendered ${n.length} slide${n.length!==1?"s":""}`),F("slides:built",s,{count:n.length}),window.App=window.App||{},window.App.slides={rebuild:()=>ye(e),getProjectData:()=>re}}function bt(e){var t;e.hasAttribute&&e.hasAttribute("id")&&e.removeAttribute("id"),(t=e.querySelectorAll)==null||t.call(e,"[id]").forEach(i=>i.removeAttribute("id"))}var le=!1,ee=0,N=null;function De(){le||(le=!0,N=document.querySelector(".perspective-wrapper")||document.body,N===document.body?ee=window.scrollY||document.documentElement.scrollTop||0:ee=N.scrollTop||0,N===document.body&&(document.body.style.position="fixed",document.body.style.top=`-${ee}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%"),N.style.overflow="hidden",N.classList.add("modal-open"))}function ae({delayMs:e=0}={}){if(!le)return;let t=()=>{N&&(N.style.overflow="",N.classList.remove("modal-open"),N===document.body?(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo(0,ee)):N.scrollTop=ee,le=!1,N=null)};e>0?setTimeout(t,e):t()}var St="1.3.14";function Ne(e,t,i){return Math.max(e,Math.min(t,i))}function Et(e,t,i){return(1-i)*e+i*t}function Tt(e,t,i,o){return Et(e,t,1-Math.exp(-i*o))}function Lt(e,t){return(e%t+t)%t}var It=class{constructor(){u(this,"isRunning",!1);u(this,"value",0);u(this,"from",0);u(this,"to",0);u(this,"currentTime",0);u(this,"lerp");u(this,"duration");u(this,"easing");u(this,"onUpdate")}advance(e){var i;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;let o=Ne(0,this.currentTime/this.duration,1);t=o>=1;let n=t?1:this.easing(o);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=Tt(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(i=this.onUpdate)==null||i.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:i,duration:o,easing:n,onStart:s,onUpdate:a}){this.from=this.value=e,this.to=t,this.lerp=i,this.duration=o,this.easing=n,this.currentTime=0,this.isRunning=!0,s==null||s(),this.onUpdate=a}};function Ot(e,t){let i;return function(...o){let n=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,e.apply(n,o)},t)}}var xt=class{constructor(e,t,{autoResize:i=!0,debounce:o=250}={}){u(this,"width",0);u(this,"height",0);u(this,"scrollHeight",0);u(this,"scrollWidth",0);u(this,"debouncedResize");u(this,"wrapperResizeObserver");u(this,"contentResizeObserver");u(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});u(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});u(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=t,i&&(this.debouncedResize=Ot(this.resize,o),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},qe=class{constructor(){u(this,"events",{})}emit(e,...t){var o;let i=this.events[e]||[];for(let n=0,s=i.length;n<s;n++)(o=i[n])==null||o.call(i,...t)}on(e,t){var i;return(i=this.events[e])!=null&&i.push(t)||(this.events[e]=[t]),()=>{var o;this.events[e]=(o=this.events[e])==null?void 0:o.filter(n=>t!==n)}}off(e,t){var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(o=>t!==o)}destroy(){this.events={}}},He=100/6,R={passive:!1},At=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){u(this,"touchStart",{x:0,y:0});u(this,"lastDelta",{x:0,y:0});u(this,"window",{width:0,height:0});u(this,"emitter",new qe);u(this,"onTouchStart",e=>{let{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});u(this,"onTouchMove",e=>{let{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e,o=-(t-this.touchStart.x)*this.options.touchMultiplier,n=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:o,y:n},this.emitter.emit("scroll",{deltaX:o,deltaY:n,event:e})});u(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});u(this,"onWheel",e=>{let{deltaX:t,deltaY:i,deltaMode:o}=e,n=o===1?He:o===2?this.window.width:1,s=o===1?He:o===2?this.window.height:1;t*=n,i*=s,t*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:i,event:e})});u(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,R),this.element.addEventListener("touchstart",this.onTouchStart,R),this.element.addEventListener("touchmove",this.onTouchMove,R),this.element.addEventListener("touchend",this.onTouchEnd,R)}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,R),this.element.removeEventListener("touchstart",this.onTouchStart,R),this.element.removeEventListener("touchmove",this.onTouchMove,R),this.element.removeEventListener("touchend",this.onTouchEnd,R)}},ze=e=>Math.min(1,1.001-Math.pow(2,-10*e)),ve=class{constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:i=e,smoothWheel:o=!0,syncTouch:n=!1,syncTouchLerp:s=.075,touchInertiaExponent:a=1.7,duration:d,easing:c,lerp:m=.1,infinite:p=!1,orientation:w="vertical",gestureOrientation:y=w==="horizontal"?"both":"vertical",touchMultiplier:b=1,wheelMultiplier:S=1,autoResize:T=!0,prevent:L,virtualScroll:P,overscroll:O=!0,autoRaf:x=!1,anchors:j=!1,autoToggle:B=!1,allowNestedScroll:r=!1,__experimental__naiveDimensions:h=!1}={}){u(this,"_isScrolling",!1);u(this,"_isStopped",!1);u(this,"_isLocked",!1);u(this,"_preventNextNativeScrollEvent",!1);u(this,"_resetVelocityTimeout",null);u(this,"__rafID",null);u(this,"isTouching");u(this,"time",0);u(this,"userData",{});u(this,"lastVelocity",0);u(this,"velocity",0);u(this,"direction",0);u(this,"options");u(this,"targetScroll");u(this,"animatedScroll");u(this,"animate",new It);u(this,"emitter",new qe);u(this,"dimensions");u(this,"virtualScroll");u(this,"onScrollEnd",e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()});u(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});u(this,"onTransitionEnd",e=>{if(e.propertyName.includes("overflow")){let t=this.isHorizontal?"overflow-x":"overflow-y",i=getComputedStyle(this.rootElement)[t];["hidden","clip"].includes(i)?this.internalStop():this.internalStart()}});u(this,"onClick",e=>{let i=e.composedPath().find(o=>{var n;return o instanceof HTMLAnchorElement&&((n=o.getAttribute("href"))==null?void 0:n.includes("#"))});if(i){let o=i.getAttribute("href");if(o){let n=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,s=`#${o.split("#")[1]}`;this.scrollTo(s,n)}}});u(this,"onPointerDown",e=>{e.button===1&&this.reset()});u(this,"onVirtualScroll",e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;let{deltaX:t,deltaY:i,event:o}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:i,event:o}),o.ctrlKey||o.lenisStopPropagation)return;let n=o.type.includes("touch"),s=o.type.includes("wheel");this.isTouching=o.type==="touchstart"||o.type==="touchmove";let a=t===0&&i===0;if(this.options.syncTouch&&n&&o.type==="touchstart"&&a&&!this.isStopped&&!this.isLocked){this.reset();return}let c=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&t===0;if(a||c)return;let m=o.composedPath();m=m.slice(0,m.indexOf(this.rootElement));let p=this.options.prevent;if(m.find(L=>{var P,O,x;return L instanceof HTMLElement&&(typeof p=="function"&&(p==null?void 0:p(L))||((P=L.hasAttribute)==null?void 0:P.call(L,"data-lenis-prevent"))||n&&((O=L.hasAttribute)==null?void 0:O.call(L,"data-lenis-prevent-touch"))||s&&((x=L.hasAttribute)==null?void 0:x.call(L,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(L,{deltaX:t,deltaY:i}))}))return;if(this.isStopped||this.isLocked){o.cancelable&&o.preventDefault();return}if(!(this.options.syncTouch&&n||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),o.lenisStopPropagation=!0;return}let y=i;this.options.gestureOrientation==="both"?y=Math.abs(i)>Math.abs(t)?i:t:this.options.gestureOrientation==="horizontal"&&(y=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(o.lenisStopPropagation=!0),o.cancelable&&o.preventDefault();let b=n&&this.options.syncTouch,T=n&&o.type==="touchend";T&&(y=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+y,{programmatic:!1,...b?{lerp:T?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});u(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});u(this,"raf",e=>{let t=e-(this.time||e);this.time=e,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=St,(!e||e===document.documentElement)&&(e=window),typeof d=="number"&&typeof c!="function"?c=ze:typeof c=="function"&&typeof d!="number"&&(d=1),this.options={wrapper:e,content:t,eventsTarget:i,smoothWheel:o,syncTouch:n,syncTouchLerp:s,touchInertiaExponent:a,duration:d,easing:c,lerp:m,infinite:p,gestureOrientation:y,orientation:w,touchMultiplier:b,wheelMultiplier:S,autoResize:T,prevent:L,virtualScroll:P,overscroll:O,autoRaf:x,anchors:j,autoToggle:B,allowNestedScroll:r,__experimental__naiveDimensions:h},this.dimensions=new xt(e,t,{autoResize:T}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new At(i,{touchMultiplier:b,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(e,{offset:t=0,immediate:i=!1,lock:o=!1,duration:n=this.options.duration,easing:s=this.options.easing,lerp:a=this.options.lerp,onStart:d,onComplete:c,force:m=!1,programmatic:p=!0,userData:w}={}){if(!((this.isStopped||this.isLocked)&&!m)){if(typeof e=="string"&&["top","left","start","#"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let y;if(typeof e=="string"?(y=document.querySelector(e),y||(e==="#top"?e=0:console.warn("Lenis: Target not found",e))):e instanceof HTMLElement&&(e!=null&&e.nodeType)&&(y=e),y){if(this.options.wrapper!==window){let S=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?S.left:S.top}let b=y.getBoundingClientRect();e=(this.isHorizontal?b.left:b.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite){if(p){this.targetScroll=this.animatedScroll=this.scroll;let y=e-this.animatedScroll;y>this.limit/2?e=e-this.limit:y<-this.limit/2&&(e=e+this.limit)}}else e=Ne(0,e,this.limit);if(e===this.targetScroll){d==null||d(this),c==null||c(this);return}if(this.userData=w!=null?w:{},i){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c==null||c(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}p||(this.targetScroll=e),typeof n=="number"&&typeof s!="function"?s=ze:typeof s=="function"&&typeof n!="number"&&(n=1),this.animate.fromTo(this.animatedScroll,e,{duration:n,easing:s,lerp:a,onStart:()=>{o&&(this.isLocked=!0),this.isScrolling="smooth",d==null||d(this)},onUpdate:(y,b)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=y-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=y,this.setScroll(this.scroll),p&&(this.targetScroll=y),b||this.emit(),b&&(this.reset(),this.emit(),c==null||c(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:t,deltaY:i}){var B,r;let o=Date.now(),n=(B=e._lenis)!=null?B:e._lenis={},s,a,d,c,m,p,w,y,b=this.options.gestureOrientation;if(o-((r=n.time)!=null?r:0)>2e3){n.time=Date.now();let h=window.getComputedStyle(e);n.computedStyle=h;let v=h.overflowX,I=h.overflowY;if(s=["auto","overlay","scroll"].includes(v),a=["auto","overlay","scroll"].includes(I),n.hasOverflowX=s,n.hasOverflowY=a,!s&&!a||b==="vertical"&&!a||b==="horizontal"&&!s)return!1;m=e.scrollWidth,p=e.scrollHeight,w=e.clientWidth,y=e.clientHeight,d=m>w,c=p>y,n.isScrollableX=d,n.isScrollableY=c,n.scrollWidth=m,n.scrollHeight=p,n.clientWidth=w,n.clientHeight=y}else d=n.isScrollableX,c=n.isScrollableY,s=n.hasOverflowX,a=n.hasOverflowY,m=n.scrollWidth,p=n.scrollHeight,w=n.clientWidth,y=n.clientHeight;if(!s&&!a||!d&&!c||b==="vertical"&&(!a||!c)||b==="horizontal"&&(!s||!d))return!1;let S;if(b==="horizontal")S="x";else if(b==="vertical")S="y";else{let h=t!==0,v=i!==0;h&&s&&d&&(S="x"),v&&a&&c&&(S="y")}if(!S)return!1;let T,L,P,O,x;if(S==="x")T=e.scrollLeft,L=m-w,P=t,O=s,x=d;else if(S==="y")T=e.scrollTop,L=p-y,P=i,O=a,x=c;else return!1;return(P>0?T<L:T>0)&&O&&x}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){var t,i;let e=this.options.wrapper;return this.isHorizontal?(t=e.scrollX)!=null?t:e.scrollLeft:(i=e.scrollY)!=null?i:e.scrollTop}get scroll(){return this.options.infinite?Lt(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};console.log("[SMOOTH-SCROLL] Module loaded");var q=null;function _e(e={}){var n,s;if(q)return console.log("[SMOOTH-SCROLL] Already initialized"),q;if(document.querySelector(".perspective-wrapper")!==null&&!e.forceEnableOnSnap)return console.log("[SMOOTH-SCROLL] \u26A0\uFE0F Skipped - page has scroll-snap container"),console.log("[SMOOTH-SCROLL] Using native scrolling for optimal snap behavior"),null;let i=(n=e.lerp)!=null?n:.08,o={lerp:i,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:(s=e.infinite)!=null?s:!1,...e};try{let a=function(d){q.raf(d),requestAnimationFrame(a)};return q=new ve(o),requestAnimationFrame(a),window.gsap&&window.ScrollTrigger&&(q.on("scroll",ScrollTrigger.update),window.gsap.ticker.add(d=>{q.raf(d*1e3)}),window.gsap.ticker.lagSmoothing(0)),window.App=window.App||{},window.App.smoothScroll={stop:()=>q.stop(),start:()=>q.start(),instance:q},console.log(`[SMOOTH-SCROLL] \u2713 Initialized with momentum scrolling (lerp: ${i})`),q}catch(a){return console.error("[SMOOTH-SCROLL] \u274C Init error:",a),null}}function Re(e,t={}){var a;let i=typeof e=="string"?document.querySelector(e):e;if(!i)return console.warn(`[SMOOTH-SCROLL] Container not found: ${e}`),null;let o=(a=t.lerp)!=null?a:.08,n=t.content?typeof t.content=="string"?i.querySelector(t.content):t.content:i.children.length>0?i.children[0]:i,s={wrapper:i,content:n,lerp:o,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:!1,...t};delete s.wrapper,delete s.content;try{let c=function(m){d.raf(m),requestAnimationFrame(c)},d=new ve({wrapper:i,content:n,...s});return requestAnimationFrame(c),window.gsap&&window.ScrollTrigger&&d.on("scroll",ScrollTrigger.update),console.log(`[SMOOTH-SCROLL] \u2713 Container scroll initialized for ${typeof e=="string"?e:i.className||"element"}`),d}catch(d){return console.error("[SMOOTH-SCROLL] \u274C Container scroll init error:",d),null}}console.log("[LIGHTBOX] Module loaded");var C={IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},H=C.IDLE,X=null,ce=null,V=null;function Be({root:e="#lightbox",openDuration:t=1500,closeDuration:i=1500}={}){var Le,ie,Ie,Oe,xe,Ae;let o=document.querySelector(e);if(!o){console.log("[LIGHTBOX] \u274C Element not found");return}let n=o.querySelector(".lightbox__inner"),s=o.querySelector(".video-area"),a=o.querySelector(".lightbox__overlay"),d=document.querySelector("#close-btn"),c=document.querySelectorAll(".slide"),m=matchMedia("(prefers-reduced-motion: reduce)").matches,p=document.querySelector("#lightbox-client"),w=document.querySelector("#lightbox-title"),y=document.querySelector("#lightbox-truth"),b=document.querySelector("#lightbox-truthwelltold"),S=document.querySelector("#lightbox-description"),T=document.querySelector("#lightbox-awards");o.setAttribute("role",o.getAttribute("role")||"dialog"),o.setAttribute("aria-modal",o.getAttribute("aria-modal")||"true"),o.setAttribute("aria-hidden","true"),o.setAttribute("data-state",C.IDLE),ae({delayMs:0}),X=((Ie=(ie=(Le=window.App)==null?void 0:Le.slides)==null?void 0:ie.getProjectData)==null?void 0:Ie.call(ie))||G;let L=Object.keys(X).length,P=(xe=(Oe=window.App)==null?void 0:Oe.slides)!=null&&xe.getProjectData?"slides module":"bundled JSON";console.log(`[LIGHTBOX] \u2713 Loaded ${L} project${L!==1?"s":""} from ${P}`),console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),console.log("\u{1F50D} LIGHTBOX SETUP VALIDATION"),console.log(`\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`);let O=[],x=[];if(console.log("1\uFE0F\u20E3  Main Container & Structure"),console.log(`   \u2713 Found: ${e}`),console.log(`   \u2713 State machine initialized: ${H}`),console.log(`   \u23F1\uFE0F  Open duration: ${t}ms (must match Webflow 'lb:open' animation)`),console.log(`   \u23F1\uFE0F  Close duration: ${i}ms (must match Webflow 'lb:close' animation)`),n?console.log("   \u2713 .lightbox__inner found"):(console.log("   \u274C .lightbox__inner NOT found"),O.push(".lightbox__inner missing")),a?console.log("   \u2713 .lightbox__overlay found (smooth scroll container)"):(console.log("   \u26A0\uFE0F  .lightbox__overlay NOT found (smooth scroll will be skipped)"),x.push(".lightbox__overlay missing")),s?console.log("   \u2713 .video-area found"):(console.log("   \u274C .video-area NOT found"),O.push(".video-area missing")),console.log(`
2\uFE0F\u20E3  Content Injection Targets`),[{el:p,id:"#lightbox-client",required:!0},{el:w,id:"#lightbox-title",required:!0},{el:y,id:"#lightbox-truth",required:!1},{el:b,id:"#lightbox-truthwelltold",required:!1},{el:S,id:"#lightbox-description",required:!0},{el:T,id:"#lightbox-awards",required:!0}].forEach(({el:l,id:f,required:E})=>{l?console.log(`   \u2713 ${f}`):E?(console.log(`   \u274C ${f} NOT found (REQUIRED)`),O.push(`${f} missing`)):(console.log(`   \u26A0\uFE0F  ${f} NOT found (optional)`),x.push(`${f} missing`))}),console.log(`
3\uFE0F\u20E3  Interactive Elements`),d?console.log("   \u2713 #close-btn found"):(console.log("   \u274C #close-btn NOT found"),O.push("#close-btn missing")),console.log(`
4\uFE0F\u20E3  Slide Triggers & Links`),console.log(`   ${c.length>0?"\u2713":"\u274C"} Found: ${c.length} .slide element${c.length!==1?"s":""}`),c.length===0)O.push("No .slide elements found");else{let l=0,f=[];c.forEach((E,k)=>{E.querySelector(".slide__link")?l++:f.push(k)}),console.log(`   ${l===c.length?"\u2713":"\u26A0\uFE0F"} ${l}/${c.length} slides have .slide__link`),f.length>0&&(console.log(`   \u26A0\uFE0F  Missing .slide__link in slide indices: ${f.join(", ")}`),x.push(`${f.length} slides missing .slide__link`))}if(r(),console.log(`
5\uFE0F\u20E3  Webflow IX Setup`),window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null){let l=window.Webflow.require("ix3")?"IX3":"IX2";console.log(`   \u2713 Webflow ${l} detected`)}else console.log("   \u26A0\uFE0F  Webflow IX NOT detected"),x.push("Webflow IX not detected");console.log(`
   \u{1F4CB} Required Custom Events in Webflow:`),console.log('      \u2022 "lb:open" \u2192 triggers open animation'),console.log('      \u2022 "lb:close" \u2192 triggers close animation'),console.log(`      \u2022 Durations MUST match: open=${t}ms, close=${i}ms`),console.log(`
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`),O.length>0?(console.log("\u274C VALIDATION FAILED"),console.log(`   ${O.length} critical error${O.length!==1?"s":""}:`),O.forEach(l=>console.log(`   \u2022 ${l}`))):console.log("\u2705 VALIDATION COMPLETE - All critical elements found"),x.length>0&&(console.log(`
\u26A0\uFE0F  ${x.length} warning${x.length!==1?"s":""}:`),x.forEach(l=>console.log(`   \u2022 ${l}`))),console.log("");function r(){if(!X)return;let l=0,f=[];c.forEach((E,k)=>{let M=E.dataset.project;if(!M)f.push(`Slide ${k}: missing data-project attribute`);else if(!X[M])f.push(`Slide ${k}: project ID "${M}" not found in JSON`);else{let W=X[M];(!W.vimeoId||W.vimeoId==="000000000")&&f.push(`Slide ${k} (${M}): missing or invalid vimeoId`),(!W.vimeoPreviewId||W.vimeoPreviewId==="000000000")&&f.push(`Slide ${k} (${M}): missing or invalid vimeoPreviewId`),l++}}),console.log(`[LIGHTBOX] \u2713 Valid slides: ${l}/${c.length}`),f.length>0&&(console.warn("[LIGHTBOX] \u26A0\uFE0F  Issues found:"),f.forEach(E=>console.warn(`   - ${E}`)))}function h(l){try{if(window.Webflow&&window.Webflow.require){let f=window.Webflow.require("ix3")||window.Webflow.require("ix2");f&&typeof f.emit=="function"?(f.emit(l),console.log(`\u{1F3AC} [LIGHTBOX] Triggered animation: "${l}"`)):console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${l}" - wfIx.emit not available`)}else console.warn(`\u26A0\uFE0F  [LIGHTBOX] Cannot emit "${l}" - Webflow IX not available`)}catch(f){console.error(`\u274C [LIGHTBOX] Error emitting "${l}":`,f)}window.dispatchEvent(new CustomEvent(l))}function v(l){Array.from(document.body.children).filter(E=>E!==o).forEach(E=>{try{"inert"in E&&(E.inert=!!l)}catch{}l?E.setAttribute("aria-hidden","true"):E.removeAttribute("aria-hidden")})}function I(l){if(l.key!=="Tab")return;let f=o.querySelectorAll(["a[href]","button","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(",")),E=Array.from(f).filter(W=>!W.hasAttribute("disabled")&&!W.getAttribute("aria-hidden"));if(E.length===0){l.preventDefault(),(n||o).focus();return}let k=E[0],M=E[E.length-1];l.shiftKey&&document.activeElement===k?(l.preventDefault(),M.focus()):!l.shiftKey&&document.activeElement===M&&(l.preventDefault(),k.focus())}function A(l){return X[l]?X[l]:(console.error(`[LIGHTBOX] \u274C Project "${l}" not found in JSON`),null)}async function $(l){if(!l||l.length===0)return;console.log(`[LIGHTBOX] \u23F3 Loading ${l.length} images...`);let f=l.map(E=>new Promise((k,M)=>{let W=new Image;W.onload=()=>{W.decode().then(()=>k()).catch(()=>k())},W.onerror=()=>{console.warn(`[LIGHTBOX] \u26A0\uFE0F  Failed to load image: ${E}`),k()},W.src=E}));await Promise.all(f),console.log("[LIGHTBOX] \u2713 All images loaded")}async function _(l){console.log(`[LIGHTBOX] \u{1F4DD} Injecting content for: ${l.title}`),p&&(p.textContent=l.client||""),w&&(w.textContent=l.title||""),y&&(y.textContent=l.truth||""),b&&(b.textContent=l.truthWellTold||""),S&&(S.textContent=l.description||""),T&&l.awards&&(T.innerHTML="",l.awards.forEach(f=>{let E=document.createElement("img");E.src=f,E.alt="Award",E.loading="eager",T.appendChild(E)})),s&&(!l.vimeoId||l.vimeoId==="000000000"?console.error(`[LIGHTBOX] \u274C Missing or invalid vimeoId for project "${projectId}"`):se(s,l.vimeoId,{autoplay:1,muted:1,autopause:0,controls:0,background:1,playsinline:1,loop:1,dnt:1})),l.awards&&l.awards.length>0&&await $(l.awards),console.log("[LIGHTBOX] \u2713 Content injected")}function Y(l){H=l,o.setAttribute("data-state",l),console.log(`[LIGHTBOX] State: ${l}`)}function Ve(){c.forEach(l=>{let f=l.querySelector(".slide__link");f&&(f.classList.add("is-disabled"),f.setAttribute("aria-disabled","true"),f.style.pointerEvents="none")}),console.log("[LIGHTBOX] \u{1F6AB} Slide links disabled")}function de(){c.forEach(l=>{let f=l.querySelector(".slide__link");f&&(f.classList.remove("is-disabled"),f.removeAttribute("aria-disabled"),f.style.pointerEvents="")}),console.log("[LIGHTBOX] \u2713 Slide links re-enabled")}async function be(l){var k,M,W;if(H!==C.IDLE){console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot open - already opening/open/closing");return}let f=(k=l==null?void 0:l.dataset)==null?void 0:k.project;if(!f){console.error("[LIGHTBOX] \u274C Slide missing data-project attribute");return}let E=A(f);if(!E){console.error(`[LIGHTBOX] \u274C Project "${f}" not found in JSON`);return}Y(C.OPENING),Ve(),ce=document.activeElement instanceof HTMLElement?document.activeElement:null;try{await _(E),v(!0),De(),(W=(M=window.App)==null?void 0:M.smoothScroll)!=null&&W.stop&&window.App.smoothScroll.stop(),o.setAttribute("aria-hidden","false"),h("lb:open"),setTimeout(()=>{je()},t),F("LIGHTBOX_OPEN",o,E)}catch(Je){console.error("[LIGHTBOX] \u274C Error opening:",Je),Y(C.IDLE),de()}}function je(){console.log("[LIGHTBOX] \u2713 Open animation complete"),Y(C.OPEN),a&&requestAnimationFrame(()=>{V=Re(a,{lerp:.08,smoothWheel:!0,smoothTouch:!1})}),o.setAttribute("tabindex","-1"),requestAnimationFrame(()=>{(n||o).focus()}),F("LIGHTBOX_OPENED",o)}function he(){if(H!==C.OPEN){console.log("[LIGHTBOX] \u26A0\uFE0F  Cannot close - not open");return}Y(C.CLOSING),F("LIGHTBOX_CLOSE",o),h("lb:close"),setTimeout(()=>{Ge()},m?0:i)}function Ge(){var l,f;if(console.log("[LIGHTBOX] \u2713 Close animation complete"),o.setAttribute("aria-hidden","true"),v(!1),V)try{V.destroy(),V=null,console.log("[LIGHTBOX] \u2713 Overlay smooth scroll destroyed")}catch(E){console.warn("[LIGHTBOX] Error destroying overlay scroll:",E)}ae({delayMs:0}),console.log("[LIGHTBOX] \u2713 Scroll unlocked"),(f=(l=window.App)==null?void 0:l.smoothScroll)!=null&&f.start&&requestAnimationFrame(()=>{window.App.smoothScroll.start(),console.log("[LIGHTBOX] \u2713 Main smooth scroll restarted")}),de(),s&&(s.innerHTML=""),T&&(T.innerHTML=""),p&&(p.textContent=""),w&&(w.textContent=""),y&&(y.textContent=""),b&&(b.textContent=""),S&&(S.textContent=""),ce&&document.body.contains(ce)&&ce.focus(),Y(C.IDLE),F("LIGHTBOX_CLOSED",o)}let te=(Ae=c[0])==null?void 0:Ae.parentElement;function Se(l){let f=l.target.closest(".slide__link");if(!f)return;if(H!==C.IDLE){l.preventDefault(),l.stopPropagation();return}let E=f.closest(".slide");if(!E){console.warn("[LIGHTBOX] \u26A0\uFE0F  .slide__link found but parent .slide missing");return}l.preventDefault(),l.stopPropagation(),be(E)}function Ee(l){l.preventDefault(),l.stopPropagation(),H===C.OPEN&&(console.log("[LIGHTBOX] \u{1F3AF} Close button clicked"),he())}function Te(l){H===C.OPEN&&(l.key==="Escape"&&(console.log("[LIGHTBOX] \u{1F3AF} Escape key pressed"),he()),l.key==="Tab"&&I(l))}te?(te.addEventListener("click",Se,{passive:!1}),console.log(`[LIGHTBOX] \u2713 Delegated click handler attached to container (${c.length} slides)`)):console.warn("[LIGHTBOX] \u26A0\uFE0F  Could not find slides container for event delegation"),d?d.addEventListener("click",Ee):console.warn("[LIGHTBOX] \u26A0\uFE0F  #close-btn not found - only Escape key will close"),document.addEventListener("keydown",Te),console.log(`[LIGHTBOX] \u2713 Initialized and ready
`);function Ye(){if(te&&te.removeEventListener("click",Se),d&&d.removeEventListener("click",Ee),document.removeEventListener("keydown",Te),V)try{V.destroy(),V=null}catch(l){console.warn("[LIGHTBOX] Error destroying overlay scroll on cleanup:",l)}ae({delayMs:0}),v(!1),de(),H=C.IDLE,console.log("[LIGHTBOX] \u2713 Cleanup complete")}function Ue(l){let f=Array.from(c).find(E=>E.dataset.project===l);return f?(be(f),!0):(console.error(`[LIGHTBOX] \u274C No slide found for project: "${l}"`),!1)}function Ke(){return{current:H,isIdle:H===C.IDLE,isOpen:H===C.OPEN,isTransitioning:H===C.OPENING||H===C.CLOSING}}window.App=window.App||{},window.App.lightbox={open:Ue,close:he,getState:Ke,cleanup:Ye}}console.log("[WEBFLOW] module loaded");function Fe(e={}){let t=e.scrollerSelector||".perspective-wrapper",i=e.hideEventName||e.shrinkEventName||"logo-hide",o=e.appearEventName||e.growEventName||"logo-appear",n=!!e.markers;function s(a){if(document.readyState==="complete"){setTimeout(a,0);return}window.addEventListener("load",a,{once:!0})}s(function(){(window.Webflow||[]).push(function(){let d=window.Webflow&&window.Webflow.require?window.Webflow.require("ix3")||window.Webflow.require("ix2"):null,c=window.ScrollTrigger;if(!d||!c)return;let m=document.querySelector(t);if(!m)return;let p=document.querySelector("#intro-slide");if(!p){console.error("[WEBFLOW] Driver slide (#intro-slide) not found");return}console.log("[WEBFLOW] Setup complete:",{scroller:!!m,driver:!!p,wfIx:!!d,ScrollTrigger:!!c,hideEvent:i,appearEvent:o});let w=!1;c.create({trigger:p,scroller:m,start:"bottom 20%",markers:n,onEnter:()=>{if(!w)try{console.log("[WEBFLOW] \u2713 emit appear:",o),d.emit(o),w=!0}catch(y){console.error("[WEBFLOW] Error emitting appear:",y)}}}),c.create({trigger:p,scroller:m,start:"bottom 20%",markers:n,onLeaveBack:()=>{if(w)try{console.log("[WEBFLOW] \u2713 emit hide:",i),d.emit(i),w=!1}catch(y){console.error("[WEBFLOW] Error emitting hide:",y)}}}),console.log("[WEBFLOW] ScrollTrigger initialized"),requestAnimationFrame(()=>{c.refresh()})})})}function Ct(){let e=["autoplay","fullscreen","picture-in-picture","encrypted-media"],t=['iframe[src*="vimeo.com"]','iframe[src*="player.vimeo.com"]'].join(",");document.querySelectorAll(t).forEach(i=>{let o=(i.getAttribute("allow")||"").split(";").map(s=>s.trim()).filter(Boolean),n=Array.from(new Set([...o,...e])).join("; ");i.setAttribute("allow",n)})}function Xe(e={}){let{lightboxRoot:t="#lightbox",lerp:i=.1,snapLerp:o=.15,smoothScroll:n={},preloader:s={}}=e,a={selector:"#preloader",videoSelector:"video[data-wf-ignore], video[autoplay], video[data-autoplay]",vimeoPreload:"prefetch",vimeoBufferLimit:5,minLoadTime:1e3,pulseDuration:3e3,pulseOpacity:.2,...s};We(a),_e({lerp:i,snapLerp:o,...n}),Me({selector:".accordeon"}),ye({containerSelector:".perspective-wrapper",replaceExisting:!0}),Be({root:t,openDuration:1500,closeDuration:1500});try{Fe({scrollerSelector:".perspective-wrapper",hideEventName:"logo-hide",appearEventName:"logo-appear"})}catch{}}window.App=window.App||{};window.App.init=Xe;document.addEventListener("DOMContentLoaded",()=>{console.log(`
\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557`),console.log("\u2551     McCann Website - Initialization Starting        \u2551"),console.log(`\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`);try{Ct(),Xe(),console.log(`
\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557`),console.log("\u2551     \u2705 All Systems Initialized Successfully         \u2551"),console.log(`\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`)}catch(e){console.error("[APP] \u274C Initialization error:",e)}});})();
